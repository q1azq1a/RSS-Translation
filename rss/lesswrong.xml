<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title><![CDATA[LessWrong]]></title><description><![CDATA[A community blog devoted to refining the art of rationality]]></description><link/> https://www.lesswrong.com<image/><url> https://res.cloudinary.com/lesswrong-2-0/image/upload/v1497915096/favicon_lncumn.ico</url><title>少错</title><link/>https://www.lesswrong.com<generator>节点的 RSS</generator><lastbuilddate> 2023 年 9 月 13 日，星期三 02:19:59 GMT </lastbuilddate><atom:link href="https://www.lesswrong.com/feed.xml?view=rss&amp;karmaThreshold=2" rel="self" type="application/rss+xml"></atom:link><item><title><![CDATA[Padding the Corner]]></title><description><![CDATA[Published on September 13, 2023 1:30 AM GMT<br/><br/><p><span>我爸爸的厨房里有一个架子，离地大约四英尺。我记得当我不再矮到可以在它下面行走时：哎呀！我没有受到脑震荡或其他什么影响，但这非常不愉快。我的姐妹和表兄弟姐妹也记得他们对此摇头不已。我注意到我的大女儿已经够高了，于是开始给她讲这个故事，警告她注意这一点。</span></p><p>当我讲故事的时候，我意识到这是多么愚蠢，于是停下手头的事情，在角落里放了一些垫子。</p><p> <a href="https://www.jefftk.com/washcloth-padded-corner-big.jpg"><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/dNBeQdB35qKruoCpr/yccwa82xz4pbcwhkz40p" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/dNBeQdB35qKruoCpr/yccwa82xz4pbcwhkz40p 550w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/dNBeQdB35qKruoCpr/m5ojftrweqlvxxt4rzro 1100w"></a></p><div></div><p></p><p>折叠起来并用螺钉固定在架子上的毛巾看起来不太好，但几年后的今天，三个表兄弟都足够高，可以与它相交，而且没有人受伤。也许有一天我们可以做一些更优雅的事情，但与此同时，修复尖角胜过警告人们。</p><p><i>评论通过： <a href="https://www.facebook.com/jefftk/posts/pfbid034oVcWajuvk8MWeyna2ybS8iEqC28DEqRq42T32f3LGpe9uH2crmAL4aVxkFHDL2bl">facebook</a> , <a href="https://mastodon.mit.edu/@jefftk/111055243593039436">mastodon</a></i></p><br/><br/><a href="https://www.lesswrong.com/posts/dNBeQdB35qKruoCpr/padding-the-corner#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/dNBeQdB35qKruoCpr/padding-the-corner<guid ispermalink="false"> dnBeQdB35qKruoCpr</guid><dc:creator><![CDATA[jefftk]]></dc:creator><pubDate> Wed, 13 Sep 2023 01:30:04 GMT</pubDate> </item><item><title><![CDATA[Should an undergrad avoid a capabilities project?]]></title><description><![CDATA[Published on September 12, 2023 11:16 PM GMT<br/><br/><p><i>虽然我写的是我的个人情况和项目，但我希望其他人也能遇到这种情况。</i></p><p>我正在考虑加入<strong>ProjectX。</strong>这听起来像是一个与人工智能合作、获得经验并有可能创造出令我自豪的东西的绝佳机会。不幸的是，它是关于提高人工智能效率，我将其理解为“能力”。当能力增强时，世界末日就会越来越近、可能性也越来越大。</p><p></p><p>有关该项目的更多信息：</p><p> <strong>“ProjectX：机器学习研究竞赛</strong></p><p>ProjectX 是<strong>世界上最大的本科机器学习研究竞赛，</strong>参赛团队来自世界各地的顶尖大学。 3支获胜团队将分别获得<strong>20,000加元</strong>的现金奖励，所有参赛者将被邀请参加2024年1月中旬<strong>举行的多伦多大学人工智能年会</strong>。去年的比赛由谷歌、英特尔和Nvidia赞助，并有特邀主讲人詹姆斯·范龙.</p><p>今年的重点是<strong>高效人工智能</strong>：研究创新方法和机器学习方法来创建人工智能模型，在不影响性能的情况下显着降低功耗。</p><p><br></p><p>今年我们将派出一支由 3-6 名学生组成的团队代表西北大学。该团队将在 2023 年 10 月至 12 月期间研究他们选择的问题，最终发表一篇描述他们的发现的论文。</p><p><a href="https://drive.google.com/file/d/1_v4vlZlgY6KgCXXPF_m76dBZnTkDpEX5/view?usp=sharing">有关今年比赛的更多信息</a></p><p><a href="https://drive.google.com/file/d/1UotPB5_4_9akc8mcPFQYQCWwdD7YLJed/view?usp=sharing">去年获奖团队的论文样本</a>“</p><br/><br/> <a href="https://www.lesswrong.com/posts/az2ibmLhv3enpfrdq/should-an-undergrad-avoid-a-capabilities-project#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/az2ibmLhv3enpfrdq/should-an-undergrad-avoid-a-capability-project<guid ispermalink="false"> az2ibmLhv3enpfrdq</guid><dc:creator><![CDATA[Double]]></dc:creator><pubDate> Tue, 12 Sep 2023 23:16:40 GMT</pubDate> </item><item><title><![CDATA[[Linkpost] Contra four-wheeled suitcases, sort of]]></title><description><![CDATA[Published on September 12, 2023 8:36 PM GMT<br/><br/><p>是简单、坚固、可靠的系统更好，还是花哨、精密、复杂的系统更好？</p><p>这篇文章带着先入之见，分析了手提箱、汽车、登山装备、食物、杯子、太空笔、人、初创公司、足球、耳机、重量、火箭、火箭、轮船和银行，并得出结论：</p><blockquote><p>我希望这个练习能够表明，简单、坚固、可靠的系统在系统上比花哨的脆弱系统更好。但事实并非如此。有时崎岖不平会获胜，有时却不会。</p></blockquote><p>它更多地说明了他发现的趋势和模式。请阅读短文以了解更多信息。</p><p>我喜欢它<a href="https://www.lesswrong.com/s/zpCiuR4T343j9WkcK">注意到混乱</a>并<a href="https://www.lesswrong.com/tag/babble-and-prune">喋喋不休地提出</a>许多有趣的类别。</p><br/><br/> <a href="https://www.lesswrong.com/posts/nFGMvs9WSeau8ATTY/linkpost-contra-four-wheeled-suitcases-sort-of#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/nFGMvs9WSeau8ATTY/linkpost-contra-four-wheeled-suitcases-sort-of<guid ispermalink="false"> nFGMvs9WSeau8ATTY</guid><dc:creator><![CDATA[Gunnar_Zarncke]]></dc:creator><pubDate> Tue, 12 Sep 2023 20:36:03 GMT</pubDate></item><item><title><![CDATA[Seeking Feedback on My Mechanistic Interpretability Research Agenda]]></title><description><![CDATA[Published on September 12, 2023 6:45 PM GMT<br/><br/><h1>为什么发这个帖子</h1><p>我全职从事 MI 研究大约三个月了，由于我目前的资助即将结束，而且我最近收到了 Lightspeed 拒绝，现在似乎是从对象级工作中抽出一些时间来反思方向的好时机以及后续步骤。我花了几个小时写了一份草稿，意识到我认为它太复杂了（为了听起来很复杂？），然后用大约 750 个字重写了我真正想做的事情以及为什么。我打算将反馈纳入 OpenPhil 早期职业申请（我将在几天内提交）。我还在申请人工智能研究职位，如果我获得了职位，这将有助于了解要关注的内容。</p><h1>议程</h1><p>在我看来，机械可解释性研究的目标是充分了解最先进的网络正在做什么，这样我们就可以检查是否正在发生任何危险行为。我<a href="https://www.neelnanda.io/mechanistic-interpretability/attribution-patching">预计</a>自动化技术将成为理解此类模型<a href="https://arxiv.org/pdf/2211.00593.pdf">的重要一步（示例：1、2、3</a> <a href="https://arxiv.org/pdf/2304.14997.pdf">）</a> 。然而，我觉得我们缺少一个重要的基础，因为我们还没有完全理解小语言模型正在做什么，因此，不知道自动化技术应该检测的一组事情。 （这些技术应该寻找推理吗？、特定行为？、记忆信息？、叠加？）。我认为，我们首先需要对浅层语言模型进行细致的、底层的探索，以指导我们对更大模型的分析。</p><p>随着<a href="https://arxiv.org/abs/2305.07759">TinyStories 模型</a>的发布，我们现在有了可以生成合理文本补全（儿童故事）的小型语言模型。 <a href="https://d.docs.live.net/5217bc84fed48838/Desktop/TinyStories-1Layer-21M">TinyStories-1Layer-21M</a>是该系列中的一个单层模型，它将作为我研究的重点。我将使用<a href="https://www.anthropic.com/index/a-mathematical-framework-for-transformer-circuits">Anthropic 的电路框架</a>对此模型进行低级机械解释。我相信，鉴于其相对较小的规模和通过网络的路径数量有限，使用电路分析该网络是可行的。</p><p>我坚信，这一层模型中将存在一些规则和模式，这些规则和模式将作为我们在更大模型中搜索事物的指南。 （当然，几乎可以肯定，在更多样化的数据集上训练的大型模型中存在该模型中不存在的规则和模式，但这应该作为建立对语言模型正在做什么的机械理解的良好起点） 。我的希望是，通过对单层模型的权重和激活进行重点低级探索，我可以构建一个人类可解释的知识和功能库，该单层模型似乎已经学会了这些知识和功能。</p><p>我已经开始探索这个模型，所以我对可能存在的组件有一些粗略的想法，但这些说法应该被理解为初步的：我相信我已经检测到似乎与某个概念相关的 MLP 神经元，例如，我发现了几个神经元，当故事中的人物“寻找”或“搜索”某物时，这些神经元似乎表现出强烈的积极性；此外，这些神经元对残差流的贡献通常支持也与“查看”或“搜索”有关的输出标记。</p><p>另一方面，一些神经元似乎支持语法规则。一个神经元对代词呈强阳性；它对残差流的贡献通常支持动词和副词输出标记。 （我 ->; 是，他们 ->; 看，他们 ->; 看到，他们 ->; 两者[感觉]）。另一个对文章非常积极；它对残差流的贡献通常支持形容词和名词（A ->; 香蕉，the->; 树，a->; 大[香蕉]）。该模型是否故意编写内容和语法规则，以便使用正确的语法成功地编写有关“搜索”的故事？是否还正在制定其他类型的规则？</p><p>一旦我拥有了知识和功能库，我将尝试手工制作可以实现此行为的网络权重，类似于<a href="https://distill.pub/2020/circuits/curve-circuits/">Chris Olah 创建的曲线检测器</a>和<a href="https://docs.google.com/document/d/1Hk1NQSQE3ycaDRULxB-Cy78FuqFW9sUDIEc_56UMlMI/edit">我过去为 1 层变压器手工制作权重的工作</a>。手工设计网络权重使我能够检测到我之前错过的网络整体机制的一部分。我预计手工权重同样会指出我对<a href="https://d.docs.live.net/5217bc84fed48838/Desktop/TinyStories-1Layer-21M">TinyStories-1Layer-21M</a>的整体解释中不完整或缺失的部分。</p><p>在过去的三个月里，我成功地解释了三个小型变压器模型（ <a href="https://www.lesswrong.com/posts/vGCWzxP8ccAfqsrS3/thoughts-about-the-mechanistic-interpretability-challenge-2">Stephen Casper 的 MI 变压器挑战</a>、 <a href="https://github.com/freestylerick/quick_MI">ARENA 每月问题#1</a> 、 <a href="https://github.com/freestylerick/First-Unique-Token">ARENA 每月问题#2</a> ）。我对使用 Pytorch 进行电路式分析来操纵和组合网络权重和激活的能力充满信心，最终创建带注释的图表，我可以检查这些图表以生成和测试假设。</p><p>了解 1 层模型的工作原理将作为了解 2 层模型的基础。对于 2 层（或更多）层的模型，我们具有注意力头组合，这可能会解锁 1 层模型无法实现的行为。通过了解 1 层模型中存在的内容，2 层模型很可能会表现出一些相同的模式和一些不同的模式。在探索 2 层模型之后，我们希望可以继续扩展，再次使用较小的模型作为我们可能期望在较大模型中找到的一些内容的指南。希望这个过程最终能让我们更好地理解大型语言模型正在做什么，以便我们能够更好地评估安全问题。</p><h1>结论</h1><p>感谢您抽出时间来阅读。再次强调，我愿意接受所有反馈，包括负面反馈。</p><p>如果您是资助者或雇主，可能有兴趣讨论和/或资助这项工作，请通过 LessWrong DM 联系。</p><p>如果您对可能资助这项研究的组织有任何想法，请随时私信或在评论中发帖。</p><br/><br/> <a href="https://www.lesswrong.com/posts/ESaTDKcvGdDPT57RW/seeking-feedback-on-my-mechanistic-interpretability-research#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/ESaTDKcvGdDPT57RW/seeking-feedback-on-my-mechanistic-interpretability-research<guid ispermalink="false"> ESaTDKcvGdDPT57RW</guid><dc:creator><![CDATA[RGRGRG]]></dc:creator><pubDate> Tue, 12 Sep 2023 18:45:08 GMT</pubDate> </item><item><title><![CDATA[Automatically finding feature vectors in the OV circuits of Transformers without using probing]]></title><description><![CDATA[Published on September 12, 2023 5:38 PM GMT<br/><br/><p>假设您正在努力了解给定的大型语言模型如何计算特定任务的输出。您可能对以下问题感到好奇：</p><ul><li>哪些线性特征向量决定模型在给定任务上的性能？</li><li>给定一组不同的任务，相同的特征在多大程度上负责模型在这些不同任务上的输出？</li><li> LayerNorm 等非线性如何转换用于给定任务的特征？</li><li>给定一对特征，如果一个输入的一个特征的值很高，那么这是否意味着该输入的另一个特征的值可能很高？</li><li>如何找到一个转向向量来添加到模型的激活中，从而增加模型在一项任务上的输出，同时减少另一项任务上的输出？</li></ul><p>最近，我一直致力于开发一种通用方法来部分回答这些问题。值得注意的是，与查找特征向量的探测方法不同，该方法可以通过<i>零前向传递数据</i>找到这些问题的近似答案，从而用很少的附加数据点<span class="footnote-reference" role="doc-noteref" id="fnrefu4fd3ietm2f"><sup><a href="#fnu4fd3ietm2f">[1]</a></sup></span>产生改进的答案。这篇文章介绍了这种寻找特征向量的方法，称为“可观察传播”；提出有关可观察传播产生的特征向量分析的理论结果；并介绍了测试该方法的一些初步实验的结果。</p><p>请注意，这一切都在进行中！我目前正在进行更多的实验，以便更好地了解可观察传播的效用和局限性。此外，我仍然必须在公开之前清理我的代码（尽管此处描述的方法应该不难重新实现）。但我认为，与其等到一切都完成后再分享我所取得的成果，不如向社区展示我迄今为止已完成的工作。</p><p>这项工作的贡献如下：</p><ul><li>这项工作引入了“可观察量”的概念，它概括了通过查看 Logit 差异来考虑模型在任务上的性能的模式。一旦人们开始将可观察量视为适合研究的具体对象，就会出现许多分析 Transformer 的新技术。</li><li>这项工作提出了一种称为“可观测传播”的方法，该方法允许人们在 Transformer 的 OV 电路中找到与任何给定可观测相对应的特征向量。请注意，此方法可以找到特征方向以及近似的特征大小，<i>而不需要任何额外的数据</i>。该方法可以使用少量数据扩展到 Transformer 中的非线性组件，以获得更好的特征量值近似值。</li><li>这项工作开发了一种特征向量分析理论。这包括一个定理，即 LayerNorm 非线性不会影响高维空间中的特征方向（尽管它们确实会影响特征大小）。这项工作还引入了一种称为“耦合系数”的相似性度量，它在输入与另一个特征向量的点积等于 1 的情况下测量输入和特征向量之间的预期点积。</li><li>我将可观察传播应用于<a href="https://cmathw.itch.io/identifying-a-preliminary-circuit-for-predicting-gendered-pronouns-in-gpt-2-smal">Chris Mathwin 等人考虑的性别代词预测问题。</a>作为案例研究。我通过考虑宾语和主语代词预测的情况来扩展他们的问题设置，并证明在这两种情况下都使用了许多相同的特征。我还发现，查看与不同注意力头相关的特征向量的范数可以很好地初步预测哪些注意力头最终对输出贡献最大。我表明，可观察传播找到的一些特征向量与它们各自注意力头的奇异向量没有完全对齐，这表明可观察传播可以找到 SVD 可能错过的特征向量。</li><li>最后，我展示了使用这些特征向量作为激活引导向量的一些初步结果，以减少模型显示的性别偏见。</li></ul><p><i>认知状态：我非常有信心可观察的传播，连同LayerNorms和耦合系数的理论，准确地描述了非MLP Transformer的OV电路，并且可以对这些OV电路的行为做出准确的预测。我也有一些信心，特征向量范数可以用来对对任务很重要的注意力头做出像样的“有根据的猜测”，尽管我必须对更多任务进行更多实验，以便变得更加确定。其他。然而，我仍然不确定理解 QK 行为对于理解 Transformer 的必要程度。我还在确定这些方法可以在多大程度上应用于 MLP。关于这里介绍的实验：代词预测任务的工作比性别偏见任务的工作更加成熟，目前更多地处于探索阶段。</i></p><h1>长话短说</h1><p>如果我们有一个任务想要评估我们的模型 - 例如，标记 A 和标记 B 之间的 logit 差异 - 那么我们可以构建与该任务相对应的线性函数。 （例如，令牌 A 和令牌 B 之间的 logit 差异对应于线性函数<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n^T = (e_{A} - e_{B})^T"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.241em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">B</span></span></span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span></span></span></span></span></span> <style>.mjx-chtml {display: inline-block; line-height: 0; text-indent: 0; text-align: left; text-transform: none; font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; letter-spacing: normal; word-wrap: normal; word-spacing: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; margin: 0; padding: 1px 0}
.MJXc-display {display: block; text-align: center; margin: 1em 0; padding: 0}
.mjx-chtml[tabindex]:focus, body :focus .mjx-chtml[tabindex] {display: inline-table}
.mjx-full-width {text-align: center; display: table-cell!important; width: 10000em}
.mjx-math {display: inline-block; border-collapse: separate; border-spacing: 0}
.mjx-math * {display: inline-block; -webkit-box-sizing: content-box!important; -moz-box-sizing: content-box!important; box-sizing: content-box!important; text-align: left}
.mjx-numerator {display: block; text-align: center}
.mjx-denominator {display: block; text-align: center}
.MJXc-stacked {height: 0; position: relative}
.MJXc-stacked > * {position: absolute}
.MJXc-bevelled > * {display: inline-block}
.mjx-stack {display: inline-block}
.mjx-op {display: block}
.mjx-under {display: table-cell}
.mjx-over {display: block}
.mjx-over > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-under > * {padding-left: 0px!important; padding-right: 0px!important}
.mjx-stack > .mjx-sup {display: block}
.mjx-stack > .mjx-sub {display: block}
.mjx-prestack > .mjx-presup {display: block}
.mjx-prestack > .mjx-presub {display: block}
.mjx-delim-h > .mjx-char {display: inline-block}
.mjx-surd {vertical-align: top}
.mjx-surd + .mjx-box {display: inline-flex}
.mjx-mphantom * {visibility: hidden}
.mjx-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 2px 3px; font-style: normal; font-size: 90%}
.mjx-annotation-xml {line-height: normal}
.mjx-menclose > svg {fill: none; stroke: currentColor; overflow: visible}
.mjx-mtr {display: table-row}
.mjx-mlabeledtr {display: table-row}
.mjx-mtd {display: table-cell; text-align: center}
.mjx-label {display: table-row}
.mjx-box {display: inline-block}
.mjx-block {display: block}
.mjx-span {display: inline}
.mjx-char {display: block; white-space: pre}
.mjx-itable {display: inline-table; width: auto}
.mjx-row {display: table-row}
.mjx-cell {display: table-cell}
.mjx-table {display: table; width: 100%}
.mjx-line {display: block; height: 0}
.mjx-strut {width: 0; padding-top: 1em}
.mjx-vsize {width: 0}
.MJXc-space1 {margin-left: .167em}
.MJXc-space2 {margin-left: .222em}
.MJXc-space3 {margin-left: .278em}
.mjx-test.mjx-test-display {display: table!important}
.mjx-test.mjx-test-inline {display: inline!important; margin-right: -1px}
.mjx-test.mjx-test-default {display: block!important; clear: both}
.mjx-ex-box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60ex}
.mjx-test-inline .mjx-left-box {display: inline-block; width: 0; float: left}
.mjx-test-inline .mjx-right-box {display: inline-block; width: 0; float: right}
.mjx-test-display .mjx-right-box {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MJXc-TeX-unknown-R {font-family: monospace; font-style: normal; font-weight: normal}
.MJXc-TeX-unknown-I {font-family: monospace; font-style: italic; font-weight: normal}
.MJXc-TeX-unknown-B {font-family: monospace; font-style: normal; font-weight: bold}
.MJXc-TeX-unknown-BI {font-family: monospace; font-style: italic; font-weight: bold}
.MJXc-TeX-ams-R {font-family: MJXc-TeX-ams-R,MJXc-TeX-ams-Rw}
.MJXc-TeX-cal-B {font-family: MJXc-TeX-cal-B,MJXc-TeX-cal-Bx,MJXc-TeX-cal-Bw}
.MJXc-TeX-frak-R {font-family: MJXc-TeX-frak-R,MJXc-TeX-frak-Rw}
.MJXc-TeX-frak-B {font-family: MJXc-TeX-frak-B,MJXc-TeX-frak-Bx,MJXc-TeX-frak-Bw}
.MJXc-TeX-math-BI {font-family: MJXc-TeX-math-BI,MJXc-TeX-math-BIx,MJXc-TeX-math-BIw}
.MJXc-TeX-sans-R {font-family: MJXc-TeX-sans-R,MJXc-TeX-sans-Rw}
.MJXc-TeX-sans-B {font-family: MJXc-TeX-sans-B,MJXc-TeX-sans-Bx,MJXc-TeX-sans-Bw}
.MJXc-TeX-sans-I {font-family: MJXc-TeX-sans-I,MJXc-TeX-sans-Ix,MJXc-TeX-sans-Iw}
.MJXc-TeX-script-R {font-family: MJXc-TeX-script-R,MJXc-TeX-script-Rw}
.MJXc-TeX-type-R {font-family: MJXc-TeX-type-R,MJXc-TeX-type-Rw}
.MJXc-TeX-cal-R {font-family: MJXc-TeX-cal-R,MJXc-TeX-cal-Rw}
.MJXc-TeX-main-B {font-family: MJXc-TeX-main-B,MJXc-TeX-main-Bx,MJXc-TeX-main-Bw}
.MJXc-TeX-main-I {font-family: MJXc-TeX-main-I,MJXc-TeX-main-Ix,MJXc-TeX-main-Iw}
.MJXc-TeX-main-R {font-family: MJXc-TeX-main-R,MJXc-TeX-main-Rw}
.MJXc-TeX-math-I {font-family: MJXc-TeX-math-I,MJXc-TeX-math-Ix,MJXc-TeX-math-Iw}
.MJXc-TeX-size1-R {font-family: MJXc-TeX-size1-R,MJXc-TeX-size1-Rw}
.MJXc-TeX-size2-R {font-family: MJXc-TeX-size2-R,MJXc-TeX-size2-Rw}
.MJXc-TeX-size3-R {font-family: MJXc-TeX-size3-R,MJXc-TeX-size3-Rw}
.MJXc-TeX-size4-R {font-family: MJXc-TeX-size4-R,MJXc-TeX-size4-Rw}
.MJXc-TeX-vec-R {font-family: MJXc-TeX-vec-R,MJXc-TeX-vec-Rw}
.MJXc-TeX-vec-B {font-family: MJXc-TeX-vec-B,MJXc-TeX-vec-Bx,MJXc-TeX-vec-Bw}
@font-face {font-family: MJXc-TeX-ams-R; src: local('MathJax_AMS'), local('MathJax_AMS-Regular')}
@font-face {font-family: MJXc-TeX-ams-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_AMS-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-B; src: local('MathJax_Caligraphic Bold'), local('MathJax_Caligraphic-Bold')}
@font-face {font-family: MJXc-TeX-cal-Bx; src: local('MathJax_Caligraphic'); font-weight: bold}
@font-face {font-family: MJXc-TeX-cal-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-R; src: local('MathJax_Fraktur'), local('MathJax_Fraktur-Regular')}
@font-face {font-family: MJXc-TeX-frak-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-frak-B; src: local('MathJax_Fraktur Bold'), local('MathJax_Fraktur-Bold')}
@font-face {font-family: MJXc-TeX-frak-Bx; src: local('MathJax_Fraktur'); font-weight: bold}
@font-face {font-family: MJXc-TeX-frak-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Fraktur-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Fraktur-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-BI; src: local('MathJax_Math BoldItalic'), local('MathJax_Math-BoldItalic')}
@font-face {font-family: MJXc-TeX-math-BIx; src: local('MathJax_Math'); font-weight: bold; font-style: italic}
@font-face {font-family: MJXc-TeX-math-BIw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Math-BoldItalic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Math-BoldItalic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Math-BoldItalic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-R; src: local('MathJax_SansSerif'), local('MathJax_SansSerif-Regular')}
@font-face {font-family: MJXc-TeX-sans-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-B; src: local('MathJax_SansSerif Bold'), local('MathJax_SansSerif-Bold')}
@font-face {font-family: MJXc-TeX-sans-Bx; src: local('MathJax_SansSerif'); font-weight: bold}
@font-face {font-family: MJXc-TeX-sans-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-sans-I; src: local('MathJax_SansSerif Italic'), local('MathJax_SansSerif-Italic')}
@font-face {font-family: MJXc-TeX-sans-Ix; src: local('MathJax_SansSerif'); font-style: italic}
@font-face {font-family: MJXc-TeX-sans-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_SansSerif-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_SansSerif-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_SansSerif-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-script-R; src: local('MathJax_Script'), local('MathJax_Script-Regular')}
@font-face {font-family: MJXc-TeX-script-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Script-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Script-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-type-R; src: local('MathJax_Typewriter'), local('MathJax_Typewriter-Regular')}
@font-face {font-family: MJXc-TeX-type-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Typewriter-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Typewriter-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Typewriter-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-cal-R; src: local('MathJax_Caligraphic'), local('MathJax_Caligraphic-Regular')}
@font-face {font-family: MJXc-TeX-cal-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Caligraphic-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-B; src: local('MathJax_Main Bold'), local('MathJax_Main-Bold')}
@font-face {font-family: MJXc-TeX-main-Bx; src: local('MathJax_Main'); font-weight: bold}
@font-face {font-family: MJXc-TeX-main-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Main-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-I; src: local('MathJax_Main Italic'), local('MathJax_Main-Italic')}
@font-face {font-family: MJXc-TeX-main-Ix; src: local('MathJax_Main'); font-style: italic}
@font-face {font-family: MJXc-TeX-main-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Main-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-main-R; src: local('MathJax_Main'), local('MathJax_Main-Regular')}
@font-face {font-family: MJXc-TeX-main-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Main-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-math-I; src: local('MathJax_Math Italic'), local('MathJax_Math-Italic')}
@font-face {font-family: MJXc-TeX-math-Ix; src: local('MathJax_Math'); font-style: italic}
@font-face {font-family: MJXc-TeX-math-Iw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Math-Italic.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size1-R; src: local('MathJax_Size1'), local('MathJax_Size1-Regular')}
@font-face {font-family: MJXc-TeX-size1-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Size1-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size2-R; src: local('MathJax_Size2'), local('MathJax_Size2-Regular')}
@font-face {font-family: MJXc-TeX-size2-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Size2-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size3-R; src: local('MathJax_Size3'), local('MathJax_Size3-Regular')}
@font-face {font-family: MJXc-TeX-size3-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Size3-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-size4-R; src: local('MathJax_Size4'), local('MathJax_Size4-Regular')}
@font-face {font-family: MJXc-TeX-size4-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Size4-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-R; src: local('MathJax_Vector'), local('MathJax_Vector-Regular')}
@font-face {font-family: MJXc-TeX-vec-Rw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Regular.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Regular.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Regular.otf') format('opentype')}
@font-face {font-family: MJXc-TeX-vec-B; src: local('MathJax_Vector Bold'), local('MathJax_Vector-Bold')}
@font-face {font-family: MJXc-TeX-vec-Bx; src: local('MathJax_Vector'); font-weight: bold}
@font-face {font-family: MJXc-TeX-vec-Bw; src /*1*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/eot/MathJax_Vector-Bold.eot'); src /*2*/: url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/woff/MathJax_Vector-Bold.woff') format('woff'), url('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/fonts/HTML-CSS/TeX/otf/MathJax_Vector-Bold.otf') format('opentype')}
</style>，其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="e_{A}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.241em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">A</span></span></span></span></span></span></span></span></span></span></span>是独热向量，在对应于标记 A 的位置上有 1。）受量子力学概念的<i>启发</i>，我将 logits 上的线性泛函称为可观测量 。</p><p>一旦我们有了一个可观察的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n^T"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span></span></span></span></span></span> ，然后给定一个注意力头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span> ，与可观察的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n^T"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span></span></span></span></span></span>相对应的该注意力头的特征向量由<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\left(W^{OV}_h\right)^T n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.593em; padding-bottom: 0.593em;">)</span></span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.89em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>给出，其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W^{OV}_h"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span></span>是 OV 矩阵注意头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span> 。这可以简单地通过乘以它们的 OV 矩阵来扩展到虚拟注意力头，并且可以通过采用它们的线性近似来扩展到处理非线性。我证明，在高维度中，LayerNorm 不会改变特征向量方向——尽管 LayerNorm 确实会影响特征向量大小。我将这种在给定可观察量的情况下查找特征向量的通用方法称为“可观察传播”。</p><p>在可观察的传播产生特征向量后，我们可以分析它们，而无需在任何数据上运行模型。例如，我们可以查看特征向量范数来初步预测哪些注意力头可能很重要。我们还可以通过查看两个不同可观测值的余弦相似度来比较它们的特征向量；这使我们能够了解不同任务的两个电路何时使用相同的功能。我还将特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="v_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>到特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="v_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span>的</span></span></span></span></span></span>“耦合系数”定义为<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\frac{v_1 \cdot v_2}{\Vert v_1 \Vert^2}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 1.84em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 2.602em; top: -1.368em;"><span class="mjx-mrow" style=""><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.267em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.267em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span> <span class="mjx-denominator" style="font-size: 70.7%; width: 2.602em; bottom: -1.089em;"><span class="mjx-mrow" style=""><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.267em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span> <span class="mjx-sup" style="font-size: 83.3%; vertical-align: 0.347em; padding-left: 0px; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 1.84em;" class="mjx-line"></span></span><span style="height: 1.737em; vertical-align: -0.77em;" class="mjx-vsize"></span></span></span></span></span></span></span> ，并证明这表示在<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x \cdot v_1 = 1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span>的情况下正态分布的嵌入向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span>和特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="v_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>之间的预期点积。</p><p>我进行了一些初步实验，将可观察传播应用于性别代词预测的设置。初步结果表明，特征向量范数通常与主动注意力头相对应；主语代词预测和宾语代词预测使用相同的特征向量；并且可观察传播产生的特征向量可以用作激活引导向量来成功改变模型的输出。</p><h1>简介：满足可观察量</h1><p>当我们想要了解模型如何执行某项任务时，通常会查看与该任务相对应的“logit 差异”。例如，当<a href="https://www.lesswrong.com/posts/cgqh99SHsCv3jJYDS/we-found-an-neuron-in-gpt-2">Joseph Miller 和 Clement Neo</a>研究导致模型预测标记“an”而不是“a”时，他们针对“an”和“a”的模型预测逻辑之间的差异执行激活修补。同样，在性别代词预测中， <a href="https://cmathw.itch.io/identifying-a-preliminary-circuit-for-predicting-gendered-pronouns-in-gpt-2-smal">Chris Mathwin 等人。</a>考虑“他”和“她”之间的逻辑差异。采用 logit 差异被认为是可解释性工作流程的重要组成部分：Neel Nanda 将其解释为<a href="https://dynalist.io/d/n2ZWtnoYHrU1s4vnFSAQ519J#z=5Z-8RDn4JFf7wLtKosyDTNXA">“一个非常好的指标，可以通过各种受可解释性启发的干预措施和技术（例如直接 logit 归因或激活修补）来判断模型性能”</a> 。</p><p>但我们在这里的第一个见解是不仅仅将逻辑差异视为实验过程中的一个步骤。相反，我们希望将它们视为可以进行数学研究和操作的具体对象。什么样的物体？好吧，如果我们取 token <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="a"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span></span></span></span></span></span>和 token <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="b"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span></span></span></span></span>之间的 logit 差值，那么我们真正要做的就是计算<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="(e_a - e_b)^T v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span> ，</span></span></span></span></span>其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span></span></span>是 logits 向量， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="e_x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span></span></span>是带有 a 的 one-hot 向量一个位于位置<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span> 。对象<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="(e_a - e_b)^T"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">a</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span></span></span></span></span></span>是<i>线性函数</i>：从向量空间到实数的线性映射。显然，所有 Logit 差异都是 Logit 的线性函数。事实证明，除了两个标记之间的简单对数差异之外，我们可能还需要考虑线性函数。例如，我们可以考虑使用线性函数<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="(e_{\text{&quot; she&quot;}} + e_{\text{&quot; her&quot;}} - e_{\text{&quot; he&quot;}} - e_{\text{&quot; him&quot;}})^T"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot; she&quot;</span></span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot; her&quot;</span></span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot; he&quot;</span></span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot; his&quot;</span></span></span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span></span></span></span></span></span>来表示一般预测女性性别代词的任务。</p><p>受此启发，我们有以下定义：<strong>可观察量</strong>是 logits <span class="footnote-reference" role="doc-noteref" id="fnrefq6jwzi5ovy"><sup><a href="#fnq6jwzi5ovy">[2]</a></sup></span> <span class="footnote-reference" role="doc-noteref" id="fnreflpxvw4f8bc"><sup><a href="#fnlpxvw4f8bc">[3]</a></sup></span>上的线性函数。这个想法是，我们可能关心评估的一大类任务可以形式化为 logits 上的线性函数。一旦我们这样做了，我们就可以应用线性代数工具来找到与可观察量相对应的特征向量。</p><h1>通过可观察传播寻找特征向量</h1><p>现在，我将介绍一个查找与可观察量相对应的特征向量的过程。我将这种方法称为“可观察传播”，因为它涉及通过网络向后传播可观察数据。在本节中，我们将从更简单的情况下了解可观察的传播开始，然后逐渐增强通用性。</p><h2>基本线性模型</h2><p>可观察传播背后的基本见解非常简单。假设我们有一个线性模型：对于某个矩阵<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span></span></span></span></span> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f(x) = Wx"><span class="mjx-mrow" aria-hidden="true">， <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span> 。给定一个可观察量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> ，我们想要找到与该可观察量相对应的一些特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span></span></span></span></span> 。这意味着我们想要找到<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span></span></span></span></span>使得<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y \cdot x = n \cdot f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> 。现在观察： <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x) = n^T Wx = (W^T n)^T x = (W^T n) \cdot x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span> 。因此， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y=W^T n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> 。通过一行简单的线性代数，我们精确地找到了<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>对应的特征向量。</p><p>请注意，这也适用于仿射情况，其中对于某些<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="b"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span></span></span></span></span> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f(x) = Wx + b"><span class="mjx-mrow" aria-hidden="true">， <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">b</span></span></span></span></span></span></span> 。在这种情况下，对于标量常数<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="c"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span></span></span></span></span> ，我们有<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x) = (y \cdot x) + c"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">c</span></span></span></span></span></span></span> ——但这仍然意味着<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span></span></span></span></span>是嵌入空间中“直接确定”输出<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span></span></span></span></span></span>的方向<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> 。</p><h3>旁白：可观察传播和相关方法之间的差异</h3><p>这个结果非常干净，但据我所知，还没有其他人使用过它。这让我非常惊讶！不过，其他一些作品也触及了类似的想法，我发现值得考虑我的表述与他们的表述有何不同。</p><p>在<a href="https://www.lesswrong.com/posts/cgqh99SHsCv3jJYDS/we-found-an-neuron-in-gpt-2">“我们在 GPT-2 中发现一个神经元”</a>中，Joseph Miller 和 Clement Neo 试图在 GPT-2 中找到负责预测某些标记的神经元（特别关注标记“an”）。他们在某种程度上是通过获取令牌嵌入与每个神经元输出权重（即权重矩阵的每一列）的点积并查看点积最高的神经元来实现这一点的。如果我们将此过程的结果存储在向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span></span></span></span></span>中，则我们有<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y = W^T n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>是一个 one-hot 向量，在我们关心的标记位置上有一个 1， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span></span></span></span></span>是输出权重矩阵。然而，作者并没有在概念上进行飞跃，将<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span></span></span></span></span>视为特征向量，而不仅仅是点积列表。相反，作者似乎在这样的范式下进行操作：目标是解释神经元或神经元组，而不是更一般的特征向量。这种方法可以取得一些成功，但它没有考虑到非基对齐特征，或更复杂的概念，例如<a href="https://transformer-circuits.pub/2022/toy_model/index.html">叠加</a>。</p><p>在<a href="https://www.lesswrong.com/posts/mkbGjzxD8d8XqKHzA/the-singular-value-decompositions-of-transformer-weight">“Transformer 权重矩阵的奇异值分解是高度可解释的”</a>中，Beren Millridge 和 Sid Black 表明，当使用模型的非嵌入矩阵投影到标记空间时，Transformer 权重矩阵的奇异向量会产生可解释的标记集。然后，他们演示了您可以通过首先找到这些标记的嵌入，然后查看标记嵌入和奇异向量之间的余弦相似度来找到与特定标记相对应的奇异向量；然后，具有最高余弦相似度的奇异向量被认为最有可能对应于给定的标记。但请注意，他们的工作主要是从一组奇异向量中选择与给定标记最相关的向量，即使没有一个奇异向量与该标记很好地对齐。因此，他们的框架与“我们在 GPT-2 中发现一个神经元”中相同：他们不考虑一般特征向量，而是首先考虑一组特征向量，然后从该组中选择最重要的特征向量。与给定的“查询”相关。此外，他们的工作只关注与标记相对应的奇异向量，而不是与更一般的可观察量相对应的向量。</p><p>因此，在我看来，“可观察传播”方法有两个概括，而这在上面两篇作品中没有得到：</p><ul><li>我们关心的特征向量可能无法在一小组基本向量（例如神经元或奇异向量）中找到。</li><li>我们希望不仅仅寻找与特定标记相关的特征向量，而是考虑与更一般任务相关的特征向量。 （在“可观察传播”公式中，这些“更一般的任务”对应于 logits 上的线性泛函。）</li></ul><p>我相信，在您将等式<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot Wx = (W^T n) \cdot x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span>视为对可解释性有意义的东西之前，必须先内化这些概括。当然，这提出了以下问题：我现在缺少什么概括？我们稍后再回到这个问题。</p><p>此外，虽然上述研究工作是我发现与可观察传播方法最相关的工作，但我总是有可能错过文献综述中的一篇文章或帖子。如果是这样，请告诉我。</p><h2>解释 OV 电路</h2><h3>单注意力头</h3><p>如果我们正在考虑的模型是线性的，那么我们现在有一种从任何可观察到任何特征向量的方法。不幸的是，即使是仅注意 Transformer 也是非线性的。首先，计算注意力分数的过程涉及对多个标记进行双线性运算，然后进行 softmax。然后，将每个标记的线性函数乘以这些注意力分数。</p><p>然而，这个问题可以通过仅查看<a href="https://transformer-circuits.pub/2021/framework/index.html">原始变压器电路公式中</a>所谓的“OV 电路”的关注来缓解。这个想法是，注意力可以分解为两个“电路”：确定从哪些标记读取信息的计算，以及从这些标记写入哪些信息的计算。前一种计算称为“QK电路”，后一种计算称为“OV电路”。现在，如果我们将注意力分数视为固定常数，那么我们所做的就是忽略非线性 QK 电路，而只关注 OV 电路——这是所有标记的仿射函数。事实上，回想一下 Transformer 中的注意力层可以分解为</p><span><span class="mjpage mjpage__block"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span class="mjx-math" aria-label="\begin{equation} x_j^{l+1} = x_j^l + \sum_{\text{attention head $h$}} \sum_{\text{token index $i$}} \operatorname{score}_h(x_i^l, x_j^l) W^{OV}_{l,h} x_i^l \end{equation}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span> <span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span> <span class="mjx-munderover MJXc-space2"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-op" style="padding-left: 1.8em;"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.74em; padding-bottom: 0.74em;">Σ</span></span></span></span></span> <span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">注意力头</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span></span></span> <span class="mjx-munderover MJXc-space1"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-op" style="padding-left: 1.266em;"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.74em; padding-bottom: 0.74em;">Σ</span></span></span></span></span> <span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">标记索引</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span></span></span> <span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">得分</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span><span class="mjx-mo"><span class="mjx-char"></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span></span><p>其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_j^l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span></span></span>是令牌<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="j"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span>在层<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span></span></span></span></span> 、 <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\operatorname{score}_{l,h}(x_i^l, x_j^l)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">分数</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">、</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span></span></span>的残差流<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\operatorname{score}_{l,h}(x_i^l, x_j^l)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-msubsup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>是与标记<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_i^l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">i</span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_j^l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-stack" style="vertical-align: -0.311em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.519em;">j</span></span></span></span></span></span></span></span></span></span>的注意力头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span>相关的第<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span></span></span></span></span>层的注意力得分，<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W^{OV}_{l,h}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span></span></span></span>是注意力头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span>的组合输出值权重矩阵在<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span></span></span></span></span>层。因此，给定一个可观察的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> ，我们可以得到<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">第 l</span></span></span></span></span></span></span>层注意力头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span>的特征向量由下式给出</p><span><span class="mjpage mjpage__block"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span class="mjx-math" aria-label="y_{l,h} = (W^{OV}_{l,h} W_U)^T n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.084em;">U</span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span><p>其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W^{OV}_{l,h}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">，</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span></span></span></span></span></span>是第<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span></span></span></span></span>层注意力头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span>的组合输出值权重矩阵， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W_U"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.084em;">U</span></span></span></span></span></span></span></span></span>是令牌非嵌入矩阵。请注意，这适用于任何层的注意力头，因为每层的所有注意力头的贡献都会保留在 Transformer 的残差流中（即使这些贡献后来被覆盖，它们仍然会在第一层中输出到残差流中）地方）。</p><h3>虚拟注意力头</h3><p>此时的下一步是注意一个注意力头的输出可以用作另一个注意力头的输入。结果在变压器电路公式中被称为“虚拟注意力头”。寻找虚拟注意力头的特征向量很简单：分别给定层 l <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h, h'"><span class="mjx-mrow" aria-hidden="true">、 <span class="mjx-msup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">&#39;</span></span></span></span>处的注意力头<span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">、</span></span></span></span></span></span></span> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l, l'"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">&#39;</span></span> <span class="mjx-msup MJXc-space1"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">，</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">且</span></span></span></span></span></span></span></span></span><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l < l'"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span> <span class="mjx-msup MJXc-space3"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">&#39;</span></span></span></span></span></span></span></span></span> ，即与层<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span></span></span></span></span>的头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span>相关的特征向量，<i>通过</i><i>层 l 的</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l'"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">头</span></span></span></span></span></span></span></span></span><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="h'"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">&#39;</span></span></span></span></span></span></span></span></span>介导<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="l'"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msup"><span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">′</span></span></span></span></span></span></span></span></span> ，由下式给出</p><span><span class="mjpage mjpage__block"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span class="mjx-math" aria-label="y_{l,h} = (W^{OV}_{l,h} W^{OV}_{l',h'} W_U)^T n."><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.335em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span></span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.375em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-msup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">l</span></span></span> <span class="mjx-sup" style="font-size: 83.3%; vertical-align: 0.347em; padding-left: 0px; padding-right: 0.06em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">&#39;</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-msup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">h</span></span></span> <span class="mjx-sup" style="font-size: 83.3%; vertical-align: 0.347em; padding-left: 0px; padding-right: 0.06em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.298em;">&#39;</span></span></span></span></span></span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.084em;">U</span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.372em;">。</span></span></span></span></span></span></span><p>当然，这适用于任意长度的注意力头组合——只需将所有相关头的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W^{OV}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">O</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">V</span></span></span></span></span></span></span></span></span></span></span>矩阵相乘即可​​。</p><p>查看虚拟注意力头是解释 Transformer 计算的非常重要的一步：如果您只查看注意力头对输出 logits 的直接贡献，那么您最终会丢失对于理解幕后实际发生的情况至关重要的信息。我们稍后将讨论一种情况，其中模型最初似乎使用非常不同的特征向量来计算对应于两个不同可观察量的输出 - 但当我们查看虚拟注意头时，我们发现这些模型实际上使用相同的特征向量特征。</p><h3>可以忽略QK电路吗？</h3><p>回想一下，所有这些分析都只关注 OV 电路；它根本不考虑通过更改从中读取信息的标记来影响模型的所有特征方向。因此，我们应该问自己：这合理吗？当它们不考虑注意力计算的组成部分时，我们可以在多大程度上说这些特征向量捕获了模型的行为？</p><p>正如我们稍后在讨论实验结果时会看到的那样，即使可观察的传播确实因此产生了模型的不完整描述，它仍然拥有一些真正的实用性：它对与给定任务相关的注意力头提供了良好的零样本预测，它为我们提供了可用于改变模型行为的零样本转向向量，它使我们能够很好地理解一个注意头的输出与另一个注意头的输出相关的程度。我的看法是，OV 电路确实在我们感兴趣的许多任务（例如本文讨论的任务）中解释了模型的大量行为，并且至少对于这些任务，可观察传播可以是一个非常好的选择。理解模型行为的方法。</p><h2>处理非线性</h2><p>唉!现实世界中使用的变形金刚不仅仅是注意力。 Transformer 中每标记非线性的两种类型是 LayerNorm 和 MLP。我们处理它们的解决方案很简单：只需使用它们的梯度进行线性近似即可。更具体地说，如果我们有一些非线性函数<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f : \mathbb{R}^d \to \mathbb{R}^d"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">:</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">R</span></span></span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">R</span></span></span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span></span></span></span> ，那么对于给定的可观察值<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> ，我们在<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span></span>处将<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="g(x) = n \cdot f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>近似为<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x_0) + (x-x_0) \cdot \nabla g (x_0)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">∇</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> 。我们可以看到，<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>近似等于<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\nabla g (x_0) \cdot x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">∇</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span>加上一些加性常数。因此，与可观察的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 的</span></span></span></span></span></span></span><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span></span></span></span></span></span>相关联的特征向量是<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="g(x_0)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.003em;">g</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> 。</p><p>当然，必须注意选择一个好的点<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span></span>来近似<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span></span></span></span></span></span> 。我发现明智的做法是从正在使用的数据集中获取嵌入<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_-"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span></span></span></span></span></span></span></span> ，使得<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x_-) < 0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> ，并嵌入嵌入<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_+"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span></span></span></span></span></span></span></span>使得<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x_+) > 0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">>;</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> 。然后，您选择<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span></span></span>作为<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_-"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_+"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span></span></span></span></span></span></span></span>之间的直线上的点，使得<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x_0) = 0"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span></span></span></span></span></span> 。这个想法是，<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>决策边界处的梯度应该捕获导致<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>为正或负的非线性<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span></span></span></span></span></span>的更大规模行为；如果我们采用<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_-"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span></span></span></span></span></span></span></span>或<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x_+"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mo" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span></span></span></span></span></span></span></span>处的梯度，那么非线性可能已经饱和，因此，非线性的行为可能无法表明其更广泛的行为。</p><p>现在，如果我们有一个涉及非线性的计算路径（例如，一个注意力头，后面跟着一个 LayerNorm，后面跟着另一个注意力头），那么给定一个可观察的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> ，我们可以如下计算整体特征向量。首先，计算与非线性相关的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>的特征向量；将此特征向量称为<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> 。然后，<i>将此特征向量</i>视为新的可观察量，并计算下层分量相对于“可观察量” <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span>的</span></span></span></span></span></span>特征向量。冲洗并根据需要重复<span class="footnote-reference" role="doc-noteref" id="fnrefdhiuepbiqad"><sup><a href="#fndhiuepbiqad">[4]</a></sup></span> 。</p><p>在这里，值得一提的是 Neel Nanda、Chris Olah、Catherine Olsson、Nelson Elhage 和 Tristan Hume 所做的<a href="https://www.neelnanda.io/mechanistic-interpretability/attribution-patching">“归因修补”</a> 。他们的想法是通过采用模型的线性近似来加速激活修补实验（在该实验中，将给定子层的模型的激活替换为另一个示例的激活，以确定该子层是否重要）。这样，您就可以计算线性近似，而不是每次想要修补子层的激活时重新运行完整的前向传递，这要快得多。 Nanda 关于此方法的帖子还提供了一些关于线性近似何时应该表现良好（以及何时应该表现不佳）的良好直觉，当我们想要将线性近似与可观察传播一起使用时，这是相关的。</p><h2>处理 LayerNorm</h2><p>鉴于 Transformer 中的每个子层前面都有一个 LayerNorm，LayerNorm 是一个需要解决的特别重要的非线性问题。因此，我们明智的做法是对 LayerNorm 对线性近似的适用性进行更彻底的研究，以及是否可以完全规避这种近似。</p><p>在“归因修补”帖子中，Nanda 提供了一些关于 LayerNorm 梯度的直觉。他认为，对于足够小的感兴趣区域，LayerNorm 可以被视为线性。论据是这样的：LayerNorm 中的主要非线性是向量归一化步骤（即<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="v \mapsto \frac{v}{\Vert v \Vert}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">↦</span></span> <span class="mjx-mfrac MJXc-space3"><span class="mjx-box MJXc-stacked" style="width: 1.191em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 1.685em; top: -1.16em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span> <span class="mjx-denominator" style="font-size: 70.7%; width: 1.685em; bottom: -0.999em;"><span class="mjx-mrow" style=""><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 1.191em;" class="mjx-line"></span></span><span style="height: 1.527em; vertical-align: -0.707em;" class="mjx-vsize"></span></span></span></span></span></span></span> ）；在高维空间中，微小的变化<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\Delta v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">Δ</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span></span></span>将具有与<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span></span></span>不正交的可忽略不计的分量；当<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\Delta v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">Δ</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span></span></span>与<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span></span></span>正交时，向量归一化近似线性；因此，对于较小的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\Delta v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">Δ</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">v</span></span></span></span></span></span></span> ，LayerNorm 近似线性。</p><p>我们可以基于这种直觉来给出关于 LayerNorms 如何影响特征向量的精确论证。特别地，我们有以下定理：</p><p><strong>定理 1</strong> ：<i>定义</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f(x; n) = n \cdot \operatorname{LayerNorm}(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.519em;">;</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">LayerNorm</span></span><span class="mjx-mo"><span class="mjx-char"></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">×</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> <i>。定义</i></p><span><span class="mjpage mjpage__block"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span class="mjx-math" aria-label="\theta(x;n) = \arccos\left(\frac{n \cdot \nabla_x f(x; n)}{\Vert n \Vert \Vert \nabla_x f(x; n) \Vert}\right)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.519em;">;</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">arccos</span></span><span class="mjx-mo"><span class="mjx-char"></span></span> <span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 1.551em; padding-bottom: 1.551em;">(</span></span> <span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 7.017em; padding: 0px 0.12em;"><span class="mjx-numerator" style="width: 7.017em; top: -1.59em;"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">∇</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.519em;">;</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span> <span class="mjx-denominator" style="width: 7.017em; bottom: -1.09em;"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">∇</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.519em;">;</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 7.017em;" class="mjx-line"></span></span><span style="height: 2.68em; vertical-align: -1.09em;" class="mjx-vsize"></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 1.551em; padding-bottom: 1.551em;">）</span></span></span></span></span></span></span></span><p> <i>-- 也就是说，</i> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\theta(x;n)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.519em;">;</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>是<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span><i>和</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\nabla_x f(x; n)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">∇</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.519em;">;</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span><i>之间的角度</i><i>。那么如果</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span><i>和</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>是<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathbb{R}^d"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">R</span></span></span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span></span></span></span><i>中的</i><i>iid</i> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\mathcal{N}(0,I)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-cal-R" style="padding-top: 0.519em; padding-bottom: 0.372em; padding-right: 0.159em;">N</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.064em;">I</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> <i>，且</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="d\ge8"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.446em;">≥</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">8</span></span></span></span></span></span></span><i>则</i></p><span><span class="mjpage mjpage__block"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span class="mjx-math" aria-label="\mathbb{E}\left[ \theta(x;n) \right] < 2 \arccos\left(\sqrt{1-\frac{1}{d-1}}\right)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">E</span></span></span></span> <span class="mjx-mrow MJXc-space1"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">[</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.519em;">;</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">]</span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">&lt;</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">反余弦</span></span><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 1.551em; padding-bottom: 1.551em;">(</span></span> <span class="mjx-msqrt"><span class="mjx-box" style="padding-top: 0.045em;"><span class="mjx-surd"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 1.551em; padding-bottom: 1.551em;">√</span></span> <span class="mjx-box" style="padding-top: 0.323em; border-top: 1px solid;"><span class="mjx-mrow"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-mfrac MJXc-space2"><span class="mjx-box MJXc-stacked" style="width: 2.445em; padding: 0px 0.12em;"><span class="mjx-numerator" style="width: 2.445em; top: -1.368em;"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span> <span class="mjx-denominator" style="width: 2.445em; bottom: -0.866em;"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-mn MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 2.445em;" class="mjx-line"></span></span><span style="height: 2.234em; vertical-align: -0.866em;" class="mjx-vsize"></span></span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-size4-R" style="padding-top: 1.551em; padding-bottom: 1.551em;">）</span></span></span></span></span></span></span></span><p>可以在<a href="https://github.com/jacobdunefsky/observable-propagation/raw/master/Observable_Propagation_Proofs.pdf">此 PDF 文件</a>中找到证明。</p><p>该定理意味着在高维度中，LayerNorm 不会改变特征向量的方向。例如，如果我们有一个特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>作为注意头的输入，并且<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>是对应于直接在该注意头之前的 LayerNorm 输入的特征向量，那么<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>之间的余弦相似度将几乎为 1。这意味着如果您只关心特征向量的方向，那么您可以完全忽略 LayerNorms！</p><p>另一方面，我们也关心特征向量的大小。在这种情况下，我们希望能够快速近似 LayerNorms 的梯度。事实证明，这样做的原则方法是计算<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\frac{\sqrt{d}}{\widetilde{\Vert x \Vert}} W"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 1.253em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 1.772em; top: -1.766em;"><span class="mjx-msqrt" style=""><span class="mjx-box" style="padding-top: 0.045em;"><span class="mjx-surd"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.519em; padding-bottom: 0.519em;">√</span></span> <span class="mjx-box" style="padding-top: 0.111em; border-top: 1px solid;"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span></span> <span class="mjx-denominator" style="font-size: 70.7%; width: 1.772em; bottom: -1.248em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-munderover"><span class="mjx-stack"><span class="mjx-over" style="height: 0.189em; padding-bottom: 0.06em; padding-left: 0.064em;"><span class="mjx-mo" style="vertical-align: top;"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 0.519em; padding-bottom: 0.225em;">∼</span></span></span> <span class="mjx-op"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span></span></span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 1.253em;" class="mjx-line"></span></span><span style="height: 2.132em; vertical-align: -0.883em;" class="mjx-vsize"></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span></span></span></span></span> ，其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="d"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span></span>是模型维度， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span></span></span></span></span>是与 LayerNorm 相关的缩放矩阵，并且<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\widetilde{\Vert x \Vert}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-munderover"><span class="mjx-stack"><span class="mjx-over" style="height: 0.189em; padding-bottom: 0.06em; padding-left: 0.064em;"><span class="mjx-mo" style="vertical-align: top;"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 0.519em; padding-bottom: 0.225em;">∼</span></span></span> <span class="mjx-op"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span></span></span></span></span></span></span></span></span></span>是 LayerNorm <span class="footnote-reference" role="doc-noteref" id="fnref5o6rzjjq02e"><sup><a href="#fn5o6rzjjq02e">[5]</a></sup></span>输入的估计。请注意， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\widetilde{\Vert x \Vert}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-munderover"><span class="mjx-stack"><span class="mjx-over" style="height: 0.189em; padding-bottom: 0.06em; padding-left: 0.064em;"><span class="mjx-mo" style="vertical-align: top;"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 0.519em; padding-bottom: 0.225em;">〜</span></span></span> <span class="mjx-op"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span></span></span></span></span></span></span></span></span></span>取决于您正在考虑的输入的分布，因此，适用于某些输入的 LayerNorm 近似可能不适用于其他输入。</p><h1>无数据特征向量分析</h1><p>一旦您使用可观察传播来查找您感兴趣的特征向量，您就可以分析这些特征向量<i>，而无需运行任何前向传播</i>。在本节中，我将介绍两种有用的方法：查看特征向量范数和查看“耦合系数”。</p><h2>特征规范调查</h2><p>假设我们有一组模型组件（例如注意力头），并且我们希望初步了解哪些头对于给定的可观察量很重要。我们可以通过简单地采用与这些分量相关的特征向量的范数来进行初始预测；具有较高范数的特征向量应该对应于更有可能相关的组件。</p><p>其背后的基本原理：如果模型组件实现计算<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> ，并且<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span></span></span></span></span>是可观测<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span>的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span></span></span></span></span></span>的特征向量，则<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n \cdot f(x) = y \cdot x = \Vert y \Vert \Vert x \Vert \cos \theta"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">cos</span></span><span class="mjx-mo"><span class="mjx-char"></span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span></span></span> ，其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\theta"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span></span></span>是<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span>之间的角度。这意味着该模型组件的输出与<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\Vert y \Vert"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span></span></span></span>成正比。因此，在对输入一无所知的情况下，我们可以预期<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\Vert y \Vert"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span></span></span></span>的值较高，意味着<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f(x)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>的值较高。</p><p>但是有关输入分布的知识改变了方程（字面意思）。特别是，我们必须对涉及 LayerNorm 梯度的特征向量进行轻微的修正。特别是，如果我们查看 LayerNorm 输入的特征向量，那么如上所述，特征向量可以写为<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2 = \frac{\sqrt{d}}{\widetilde{\Vert x \Vert}} W y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mfrac MJXc-space3"><span class="mjx-box MJXc-stacked" style="width: 1.253em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 1.772em; top: -1.766em;"><span class="mjx-msqrt" style=""><span class="mjx-box" style="padding-top: 0.045em;"><span class="mjx-surd"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.519em; padding-bottom: 0.519em;">√</span></span> <span class="mjx-box" style="padding-top: 0.111em; border-top: 1px solid;"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span></span> <span class="mjx-denominator" style="font-size: 70.7%; width: 1.772em; bottom: -1.248em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-munderover"><span class="mjx-stack"><span class="mjx-over" style="height: 0.189em; padding-bottom: 0.06em; padding-left: 0.064em;"><span class="mjx-mo" style="vertical-align: top;"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 0.519em; padding-bottom: 0.225em;">∼</span></span></span> <span class="mjx-op"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span></span></span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 1.253em;" class="mjx-line"></span></span><span style="height: 2.132em; vertical-align: -0.883em;" class="mjx-vsize"></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> ，其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>是紧随 LayerNorm 之后的任何组件的特征向量。现在，我们有那个</p><span><span class="mjpage mjpage__block"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span class="mjx-math" aria-label="\begin{align*} y_2 \cdot x &amp;= \Vert x \Vert \frac{\sqrt{d}}{\widetilde{\Vert x \Vert}} W \Vert y_1 \Vert \cos \theta \\ &amp;\approx \sqrt{d} W \Vert y_1 \Vert \cos \theta \\ &amp;\propto \sqrt{d} W \Vert y_1 \Vert \end{align*}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mtable" style="vertical-align: -2.721em; padding: 0px 0.167em;"><span class="mjx-table"><span class="mjx-mtr" style="height: 3.139em;"><span class="mjx-mtd" style="padding: 0px 0px 0px 0px; text-align: right; width: 2.173em;"><span class="mjx-mrow" style="margin-top: 0.65em;"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">×</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span><span class="mjx-strut"></span></span></span> <span class="mjx-mtd" style="padding: 0px 0px 0px 0px; text-align: left; width: 9.985em;"><span class="mjx-mrow"><span class="mjx-mi"></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 1.772em; padding: 0px 0.12em;"><span class="mjx-numerator" style="width: 1.772em; top: -1.65em;"><span class="mjx-msqrt"><span class="mjx-box" style="padding-top: 0.045em;"><span class="mjx-surd"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.519em; padding-bottom: 0.519em;">√</span></span> <span class="mjx-box" style="padding-top: 0.111em; border-top: 1px solid;"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span></span> <span class="mjx-denominator" style="width: 1.772em; bottom: -1.339em;"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-munderover"><span class="mjx-stack"><span class="mjx-over" style="height: 0.189em; padding-bottom: 0.06em; padding-left: 0.064em;"><span class="mjx-mo" style="vertical-align: top;"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 0.519em; padding-bottom: 0.225em;">～</span></span></span> <span class="mjx-op"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span></span></span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 1.772em;" class="mjx-line"></span></span><span style="height: 2.989em; vertical-align: -1.339em;" class="mjx-vsize"></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">余弦</span></span><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span class="mjx-strut"></span></span></span></span> <span class="mjx-mtr" style="height: 1.477em;"><span class="mjx-mtd" style="padding: 0.15em 0px 0px 0px; text-align: right;"><span class="mjx-mrow" style="margin-top: -0.098em;"><span class="mjx-strut"></span></span></span> <span class="mjx-mtd" style="padding: 0.15em 0px 0px 0px; text-align: left;"><span class="mjx-mrow" style="margin-top: -0.098em;"><span class="mjx-mi"></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.298em;">≈</span></span> <span class="mjx-msqrt MJXc-space3"><span class="mjx-box" style="padding-top: 0.045em;"><span class="mjx-surd"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.519em; padding-bottom: 0.519em;">√</span></span> <span class="mjx-box" style="padding-top: 0.063em; border-top: 1px solid;"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">cos</span></span><span class="mjx-mo"><span class="mjx-char"></span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span><span class="mjx-strut"></span></span></span></span> <span class="mjx-mtr" style="height: 1.327em;"><span class="mjx-mtd" style="padding: 0.15em 0px 0px 0px; text-align: right;"><span class="mjx-mrow" style="margin-top: -0.098em;"><span class="mjx-strut"></span></span></span> <span class="mjx-mtd" style="padding: 0.15em 0px 0px 0px; text-align: left;"><span class="mjx-mrow" style="margin-top: -0.098em;"><span class="mjx-mi"></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">∝</span></span> <span class="mjx-msqrt MJXc-space3"><span class="mjx-box" style="padding-top: 0.045em;"><span class="mjx-surd"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.519em; padding-bottom: 0.519em;">√</span></span> <span class="mjx-box" style="padding-top: 0.063em; border-top: 1px solid;"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span><span class="mjx-strut"></span></span></span></span></span></span></span></span></span></span></span><p>因此，如果您的特征向量涉及任何 LayerNorm 梯度，则在查看特征向量的范数时，应忽略与您正在考虑的计算路径中最早的 LayerNorm 相对应的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\widetilde{\Vert x \Vert}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-munderover"><span class="mjx-stack"><span class="mjx-over" style="height: 0.189em; padding-bottom: 0.06em; padding-left: 0.064em;"><span class="mjx-mo" style="vertical-align: top;"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 0.519em; padding-bottom: 0.225em;">∼</span></span></span> <span class="mjx-op"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span></span></span></span></span></span></span></span></span></span>项。</p><h2>耦合系数</h2><p>用于比较特征向量的常见相似性度量是余弦相似性：两个向量指向同一方向的程度。但是我们引入了另一个相似性度量，它回答了与模型输出的更具体预测相关的问题。</p><p>假设同一模型组件有两个特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span> ，对应于不同的可观察量。现在，如果输入与<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>具有高点积，那么这是否意味着输入与<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>具有高点积？回答这个问题可以很好地衡量一个可观察量的输出与另一个可观察量的输出“耦合”的程度。</p><p>激发了这个问题的动机，让我们将其翻译成特征向量的语言。如果<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>是函数<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="f"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span></span></span></span></span></span>的具有特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>的可观测量，则对于输入<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span> ，我们有<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_1 \cdot f(x) = y_1 \cdot x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_2 \cdot f(x) = y_2 \cdot x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em;">f</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">×</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">。</span></span></span></span></span></span></span>现在，如果我们将输入<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span>约束为范数<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="s"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span></span></span></span></span> ，并约束<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x \cdot y_1 = k"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span> ，那么<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x \cdot y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>的期望值是多少？ <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x \cdot y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>的最大/最小值是多少？我提出以下定理来回答这两个问题：</p><p><strong>定理2</strong> ：<i>令</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1, y_2 \in \mathbb{R}^d"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">∈</span></span> <span class="mjx-msubsup MJXc-space3"><span class="mjx-base"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">R</span></span></span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.615em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em;">d</span></span></span></span></span></span></span></span></span> <i>。令</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span></span></span></span></span></span><i>均匀分布在由约束</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\Vert x \Vert = s"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span></span></span></span></span><i>和</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x \cdot y_1 = k"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span></span></span></span></span>定义的超球面上<i>。然后我们有</i></p><span><span class="mjpage mjpage__block"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span class="mjx-math" aria-label="\mathbb{E}[x \cdot y_2] = k \frac{y_1 \cdot y_2}{\Vert y_1^2 \Vert}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-ams-R" style="padding-top: 0.446em; padding-bottom: 0.298em;">E</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">[</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">]</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mi MJXc-space3"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span> <span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 2.68em; padding: 0px 0.12em;"><span class="mjx-numerator" style="width: 2.68em; top: -1.237em;"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span> <span class="mjx-denominator" style="width: 2.68em; bottom: -1.233em;"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-stack" style="vertical-align: -0.315em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.082em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 2.68em;" class="mjx-line"></span></span><span style="height: 2.47em; vertical-align: -1.233em;" class="mjx-vsize"></span></span></span></span></span></span></span><p> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x \cdot y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span><i>的最大值和最小值</i><i>由下式给出</i></p><span><span class="mjpage mjpage__block"><span class="mjx-chtml MJXc-display" style="text-align: center;"><span class="mjx-math" aria-label="\frac{\Vert y_2 \Vert}{\Vert y_1 \Vert} \left(k\cos(\theta) \pm \sin(\theta)\sqrt{s^2 \Vert y_1 \Vert^2-k^2} \right)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 2.079em; padding: 0px 0.12em;"><span class="mjx-numerator" style="width: 2.079em; top: -1.59em;"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span> <span class="mjx-denominator" style="width: 2.079em; bottom: -1.09em;"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 2.079em;" class="mjx-line"></span></span><span style="height: 2.68em; vertical-align: -1.09em;" class="mjx-vsize"></span></span> <span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.256em; padding-bottom: 1.256em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span> <span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">余弦</span></span><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">±</span></span> <span class="mjx-mi MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">正弦</span></span><span class="mjx-mo"><span class="mjx-char"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-msqrt"><span class="mjx-box" style="padding-top: 0.045em;"><span class="mjx-surd"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.961em; padding-bottom: 0.961em;">√</span></span> <span class="mjx-box" style="padding-top: 0.251em; border-top: 1px solid;"><span class="mjx-mrow"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">s</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.584em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-size3-R" style="padding-top: 1.256em; padding-bottom: 1.256em;">)</span></span></span></span></span></span></span></span><p><i>其中</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="\theta"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">θ</span></span></span></span></span></span></span>是<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span><i>和</i><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span><i>之间的角度</i><i>。</i></p><p>这个定理的证明可以在<a href="https://github.com/jacobdunefsky/observable-propagation/raw/master/Observable_Propagation_Proofs.pdf">之前的 PDF 文件</a>中找到。</p><p>该定理的第二部分表明，两个特征向量之间的角度很重要：角度越大， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x \cdot y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>的可能值的范围就越大。这为使用余弦相似度来测量特征向量“耦合”提供了良好的动机。但是定理第一部分中的项<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="k \frac{y_1 \cdot y_2}{\Vert y_1^2 \Vert}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em;">k</span></span> <span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 1.679em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 2.375em; top: -1.367em;"><span class="mjx-mrow" style=""><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.267em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.267em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span> <span class="mjx-denominator" style="font-size: 70.7%; width: 2.375em; bottom: -1.323em;"><span class="mjx-mrow" style=""><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-stack" style="vertical-align: -0.402em;"><span class="mjx-sup" style="font-size: 83.3%; padding-bottom: 0.216em; padding-left: 0.069em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 1.679em;" class="mjx-line"></span></span><span style="height: 1.902em; vertical-align: -0.935em;" class="mjx-vsize"></span></span></span></span></span></span></span> ，也很重要，因为它告诉您<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="x \cdot y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">x</span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span>的期望值。</p><p>受此启发，我们定义<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="C(y_1,y_2) = \frac{y_1 \cdot y_2}{\Vert y_1^2 \Vert}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em;">=</span></span> <span class="mjx-mfrac MJXc-space3"><span class="mjx-box MJXc-stacked" style="width: 1.679em; padding: 0px 0.12em;"><span class="mjx-numerator" style="font-size: 70.7%; width: 2.375em; top: -1.367em;"><span class="mjx-mrow" style=""><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.267em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.004em; padding-bottom: 0.298em;">⋅</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.267em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span> <span class="mjx-denominator" style="font-size: 70.7%; width: 2.375em; bottom: -1.323em;"><span class="mjx-mrow" style=""><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-stack" style="vertical-align: -0.402em;"><span class="mjx-sup" style="font-size: 83.3%; padding-bottom: 0.216em; padding-left: 0.069em; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span> <span class="mjx-sub" style="font-size: 83.3%; padding-right: 0.06em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">∥</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 1.679em;" class="mjx-line"></span></span><span style="height: 1.902em; vertical-align: -0.935em;" class="mjx-vsize"></span></span></span></span></span></span></span>为“ <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>到<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2 的</span></span></span></span></span></span></span></span></span><strong>耦合系数</strong>”。 <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="C(y_1, y_2)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>的直观解释是，平均而言，与特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">相关</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">联</span></span></span></span></span></span></span></span></span>的可观察量 n 2 的输出应该是与特征相关联的可观察量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span>的输出的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="C(y_1,y_2)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em; padding-right: 0.045em;">C</span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em;">,</span></span> <span class="mjx-msubsup MJXc-space1"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span>倍向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="y_1"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.006em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em; padding-right: 0.006em;">y</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">1</span></span></span></span></span></span></span></span></span> 。</p><p>稍后我们将看到如何使用耦合系数来帮助找到引导向量，以减少初步实验中性别偏见的模型输出。</p><h1>实验</h1><p>为了开始测试可观察传播，我进行了一些初步实验，旨在建立关于可观察传播效用的一些直觉。</p><p>我特别考虑了两个“案例研究”。前者涉及<a href="https://cmathw.itch.io/identifying-a-preliminary-circuit-for-predicting-gendered-pronouns-in-gpt-2-smal">Mathwin 等人先前解决的性别代词预测任务。</a> 。后者考虑职业性别偏见（即预测女性姓名比男性姓名更有可能或不太可能参与某些职业的模型）。</p><p>现在，我们将继续研究这两个案例研究中的一些有趣结果。那些希望看到更多结果的人应该放心，我目前正在进行更多实验（包括更深入地考虑此处讨论的案例研究的实验，以及解决其他案例研究的实验），并期待更新帖子这些实验的结果。</p><h2>该模型</h2><p>所有这些实验中使用的语言模型是 GPT-Neo-1.3B。该模型有大约 13 亿个参数、24 层、每个注意力子层 16 个注意力头、嵌入空间维度为 2048、MLP 隐藏层维度为 8192。因此，它是一个比 GPT-2 系列更大的模型，在可解释性实验中往往更频繁地使用。使用更大的模型表明了可观察传播规模化的潜力（尽管 13 亿个参数仍然比当前最先进的模型小很多。）</p><h2>性别代词预测</h2><h3>问题设置</h3><p>该问题研究了是什么导致模型预测标记“她”而不是“他”，或“她”而不是“他”。 <a href="https://cmathw.itch.io/identifying-a-preliminary-circuit-for-predicting-gendered-pronouns-in-gpt-2-smal">马斯温等人。</a>研究了 GPT-2-small 中的主语代词情况（即预测“她”与“他”的情况）。他们分析了模型中的哪些组件负责预测这些性别代词。但通过可观察的传播，我们可以走得更远，深入了解此任务中使用的特定功能。此外，我们还考虑宾语代词的情况（即“她”与“他”）以及主语代词的情况，以便看看模型的特征是否有任何共同点。</p><p>与主语代词任务对应的可观察量是<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="(e_{\text{&quot; she&quot;}} - e_{\text{&quot; he&quot;}})"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot; she&quot;</span></span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot; he&quot;</span></span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> ；我们用<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>表示这个可观察值。对应于宾语代词任务的可观察量是<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="(e_{\text{&quot; her&quot;}} - e_{\text{&quot; him&quot;}})"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">(</span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot; her&quot;</span></span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot; his&quot;</span></span></span></span></span></span> <span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em;">)</span></span></span></span></span></span></span> ；我们用<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>表示这个可观察量。</p><h3>提示</h3><p>遵循 Mathwin 等人的方法，我们通过采用提示模板并填写性别名称来生成提示数据集。主语代词大小写的提示模板是<code>&quot;&lt;|endoftext|>;So, [NAME] really is a great friend, isn&#39;t&quot;</code> ；然后通过将<code>[NAME]</code>替换为性别名称来生成提示。这个想法是，如果名字是女性，比如“Clara”或“Judy”，那么最有可能的下一个标记将是“she”，而如果名字是男性，比如“Mike”或“Joe”，那么最有可能的下一个标记是“she”，而如果名字是男性，比如“Mike”或“Joe”，那么最有可能的下一个标记是“she”。下一个标记可能是“他”。同样，宾语代词大小写的提示模板是<code>&quot;&lt;|endoftext|>;What do I think about [NAME]? Well, to be honest, I love&quot;</code> 。</p><p>我们的名单如下。使用的男性名字有“约翰”、“大卫”、“马克”、“保罗”、“瑞安”、“加里”、“杰克”、“阿诺德”、“乔”、“安迪”；使用的女性名字有“Jennifer”、“Jane”、“Annie”、“Chloe”、“Amy”、“Judy”、“Lisa”、“Carol”、“Clara”、“Sarah”。请注意，所有名称都是 1 个令牌长。</p><h3>特征向量范数</h3><p>我计算了<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span> observable 和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>的每个注意力头的特征向量的范数。结果如下图所示。 </p><figure class="image"><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/oi5dnlyytlqsdmzpslar" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/vpi9fn2xiettletivpkl 153w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/rp2pu9wgmtltqmgvrica 233w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/zovioyj8y7iuolbtn9aw 313w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/hlhf4ln3jwor0tjggxm2 393w"></figure><figure class="image"><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/bdvedhicucuhqn1djefl" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/hiwfstnbcvmoxf57nxfz 153w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/o0pisx0lsrje6fnkrr9s 233w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/j5mk5cvmx35vup9okvls 313w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/gwl0wgt57s849zejlsim 393w"></figure><p>当考虑 LayerNorms 时， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>具有最高特征向量范数的注意力头为 18.11、17.14、13.11 和 15.13，范数分别为 237.3204、236.2457、186.3744、145.4124。 <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>具有最高特征向量范数的注意力头为 17.14、18.11、13.11 和 15.13，范数为 159.1822、156.9978、144.9379、112.3253。这是图中最亮的四个头。</p><p>现在，我使用激活补丁来计算每个头对 logits 的贡献。我们的数据集的平均结果可以在下图中找到。 </p><figure class="image"><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/pybrmfgaz0vvax1jkqqe" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/tgpsuffyjbctsidtsehx 135w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/pb7j94skgkigtkwf5hwq 215w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/zzurcsxpwfy4kp74pe9p 295w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/pxoioopnsree4wizmbte 375w"></figure><figure class="image"><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/jduwkqywcditlxzfilnr" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/nckj0sb8hkco3ca6q59r 148w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/ntisqz0hp07upm4fzjth 228w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/epfpg1jp4tblpngfxro7 308w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/nmyfrcd1x96skngegv9a 388w"></figure><p>对<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>具有最高属性的四个注意力头是 17.14、13.11、15.13 和 13.3，损坏-干净 Logit 差异分别为 4.7859、4.5473、1.0804、0.6352。 <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>属性最高的四个注意力头分别为 17.14、15.13、13.11 和 22.2，损坏-干净的 logit 差异分别为 3.5636、3.0652、2.1328、0.5218。最引人注目的结果是，具有最大属性的三个注意力头是具有最高特征规范的四个头的子集。当然，同样引人注目的是，尽管注意力头 18.11 是具有最高特征规范的头，但它却没有出现在具有最高属性的头列表中；我怀疑这是由于 QK 电路效应造成的（即注意力头 18.11 产生的输出将对可观察量做出很大贡献 - 但它没有关注负责这些输出的令牌）。</p><p>尽管注意力头 18.11 存在“误报”，但看到特征向量规范能够正确预测真实数据上具有最高归因的四个头中的三个——<i>在不使用任何数据</i><span class="footnote-reference" role="doc-noteref" id="fnref3ckjhluza55"><sup><a href="#fn3ckjhluza55">[6]</a></sup></span>且<i>仅使用 OV 电路的情况下</i>进行预测—— - 对我来说非常令人兴奋。因此，我对使用特征向量范数的直觉是，它们可以产生一个廉价的初始“ansatz”，您应该使用更多的数据和计算密集型方法进一步研究哪些模型组件。</p><h3>余弦相似度和耦合系数</h3><p>接下来要研究的是： <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">个 subj</span></span></span></span></span></span></span></span></span></span></span>特征向量和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>特征向量之间的余弦相似度和耦合系数。余弦相似度最高的四个头部分别为 17.14、18.11、15.13 和 13.11，余弦相似度分别为 0.9882、0.9831、0.9816 和 0.9352。请注意，这些余弦相似度非常接近 1——表明该模型使用（大约）相同的特征向量来预测主语代词和预测宾语代词。当我第一次看到这些结果时，我非常兴奋：<i>我们现在有证据表明模型在两个不同的任务中使用相同的特征</i>！尽管主语代词预测和宾语代词预测确实相似，但不能保证模型会对两者使用相同的特征：因此，我对看到的情况感到惊讶。</p><p>事实上，当我们查看未嵌入前的可观测量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W_U^T n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.084em;">U</span></span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W_U^T n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">W</span></span></span> <span class="mjx-stack" style="vertical-align: -0.327em;"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0.262em; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.084em;">U</span></span></span></span></span> <span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>之间的余弦相似度时，我们发现它们的余弦相似度仅为 0.5685。因此，尽管任务相似，但它们本质上并不相似，以至于模型对两者使用相同的特征是微不足道的。</p><p>然后我查看了头部 17.14、15.13 和 13.11 之间的耦合系数（在具有最高余弦相似度、最高特征规范和最高头部属性的头部中出现的共同头部）。找到它们后，下一步是记录数据集中所有嵌入与<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>特征向量和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>特征向量的实际点积。完成此操作后，对于每个特征向量，我考虑<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>与<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>点积的比率，并找到适合该数据的最佳拟合线。结果如下表所示。</p><figure class="table"><table><thead><tr><th>头</th><th>耦合系数</th><th>余弦相似度</th><th>最佳拟合线斜率</th><th><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="r^2"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">r</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mn" style=""><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2</span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td> 17.14</td><td> 0.67086</td><td> 0.9882</td><td> 0.67774</td><td> 0.99811</td></tr><tr><td> 15.13</td><td> 0.77306</td><td> 0.9816</td><td> 0.79353</td><td> 0.98146</td></tr><tr><td> 13.11</td><td> 0.73552</td><td> 0.9352</td><td> 0.75580</td><td> 0.9274281</td></tr></tbody></table></figure><p>请注意，耦合系数几乎与最佳拟合线的斜率完全匹配 - 表明它们确实准确地预测了点积的比率。</p><p>除了查看两个向量之间的点积比率之外，我们还研究了耦合系数是否预测了头部之间激活修补归因得分的比率。得到的散点图如下所示：每个点代表一个注意力头，其 x 坐标表示其耦合系数，y 坐标表示该头对<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>的平均归因得分与该头的平均注意力得分之间的比率前往<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">主题</span></span></span></span></span></span></span></span></span></span></span>。 （请注意，我排除了归因分数小于 0.1 的注意力头。） </p><p><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/jheoyn9fln2i7yueuh7b" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/duyy26u39pgbavnvwy9x 96w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/i97b9e8ovkeocug0rry9 176w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/vyc9skbor4bjq79dudir 256w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/pku6jcohddfbftt0jp6c 336w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/bvyd2npiyqzjvwfszopb 416w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/fixnrhpnp994cg3glstd 496w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/jDfjqu2qJLcPco9cf/hyqgczdckk3kqusqfosv 576w"></p><p>由于 QK 电路效应，这里不存在完美的相关性，这与使用耦合系数来预测点积时不同。尽管如此，我们可以看到耦合系数仍然提供了一个不错的估计，不仅可以估计特征向量的点积的耦合程度，甚至还可以估计注意力头的<i>属性</i>的耦合程度。</p><h3>奇异值分解</h3><p>我有兴趣确定的一件事是：通过可观察传播获得的特征向量在多大程度上与权重矩阵的奇异向量对齐？我针对上面考虑的三个注意力<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="W_{OV}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.104em;"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.104em;">头</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.229em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.298em;">的</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.186em;">WOV</span></span></span></span></span></span></span></span></span></span></span>矩阵进行了研究：17.14、15.13 和 13.11。下表提供了每个头部与该头部的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>特征向量具有最高余弦相似度的奇异向量的索引以及余弦相似度。</p><figure class="table"><table><thead><tr><th>头</th><th><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">主体</span></span></span></span></span></span></span></span></span></span></span>vs <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">对象</span></span></span></span></span></span></span></span></span></span></span></th><th>前 5 个奇异向量索引</th><th>前 5 个绝对余弦相似度</th></tr></thead><tbody><tr><td>17.14</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">主语</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> 1, 3, 0, 2, 4</td><td> 0.8169、0.4725、0.2932、0.0981、0.0827</td></tr><tr><td> 17.14</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">对象</span></span></span></span></span></span></span></span></span></span></span></td><td>1, 3, 0, 4, 15</td><td> 0.8052、0.4980、0.2758、0.1019、0.0394</td></tr><tr><td> 15.13</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">主语</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> 0、1、17、28、13</td><td> 0.9466、0.1254、0.0875、0.0774、0.0747</td></tr><tr><td> 15.13</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">对象</span></span></span></span></span></span></span></span></span></span></span></td><td>0、1、9、65、13</td><td> 0.9451、0.1761、0.0761、0.0622、0.0597</td></tr><tr><td> 13.11</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">主语</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> 4, 3, 2, 1, 7</td><td> 0.6470、0.5843、0.3451、0.2164、0.1508</td></tr><tr><td> 13.11</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">对象</span></span></span></span></span></span></span></span></span></span></span></td><td>3, 4, 2, 7, 8</td><td> 0.5982、0.5345、0.4869、0.1499、0.1007</td></tr></tbody></table></figure><p>对于头 15.13，奇异向量 0 与可观察传播找到的特征向量非常一致。然而，头 17.14 的情况较少（其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>的顶部绝对余弦相似度分别为 0.8169 和 0.8052），头 13.11 的情况更小（其中<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>的顶部绝对余弦相似度）分别为 0.6470 和 0.5982）。此外，特别是对于头 17.14 和 13.11，除了最相似的向量之外，奇异向量的绝对余弦相似度仍然不可忽略，这表明单独一个奇异向量无法捕获特征向量的完整行为。</p><p>还值得注意的是，对于头 13.11， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>的最相似奇异向量不同于<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>的最相似奇异向量。由于相似向量是正交的，这意味着通过查看<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>最相似的奇异向量来天真地分析头 13.11 会错误地表明这两个可观察量对应于不同的特征（尽管它们的特征向量余弦相似度为 0.9352）。</p><p>我认为这些例子展示了<a href="https://www.lesswrong.com/posts/mkbGjzxD8d8XqKHzA/">Beren Millridge 和 Sid Black</a>探索的使用 SVD 解释权重矩阵的实用性，而且还展示了使用可观察传播构建显式特征向量的必要性，而不是仅查看最相似的奇异向量。事实证明，SVD 作为可解释性的第一步很有用，但它并不能说明全部情况。可观察传播的显式特征向量允许进行进一步的定量分析。</p><h3>激活转向</h3><p>如前所述，可观测传播没有考虑变压器 QK 电路中涉及的非线性。因此，有人担心可观察传播产生的特征向量无法准确预测模型在实践中的行为。</p><p>为了测试这种恐惧，我进行了一些初步的激活引导实验：看看是否可以将可观察传播发现的特征向量添加到某些标记的嵌入中来改变模型的输出。这个想法是，如果这些向量表示即使在存在 QK 电路的情况下也具有鲁棒性的特征，那么添加这些向量应该会导致模型的输出相应地改变（例如，将<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>的特征向量添加到嵌入应该会导致更高的输出）对于<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">主题</span></span></span></span></span></span></span></span></span></span></span>）。</p><p>我在三个感兴趣的注意力头（17.14、15.13、13.11）上测试了<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>可观察量的激活控制。首先，我使用<a href="https://dynalist.io/d/n2ZWtnoYHrU1s4vnFSAQ519J#z=disz2gTx-jooAcR0a5r8e7LZ">logit 归因</a>来确定哪个标记对于每个头来说最重要。然后，我将该注意力头的特征向量加/减 50 倍到该标记的嵌入<span class="footnote-reference" role="doc-noteref" id="fnrefyjcwq2rp51i"><sup><a href="#fnyjcwq2rp51i">[7]</a></sup></span> 。我查看了提示数据集模型输出的平均差异；结果如下表所示。</p><figure class="table"><table><thead><tr><th>头</th><th><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">主体</span></span></span></span></span></span></span></span></span></span></span>vs <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">对象</span></span></span></span></span></span></span></span></span></span></span></th><th>代币</th><th><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="-50v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">50</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">V</span></span></span></span></span></span></span>平均差</th><th><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="+50v"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">+</span></span> <span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">50</span></span> <span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">V</span></span></span></span></span></span></span>平均差</th></tr></thead><tbody><tr><td>17.14</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">主语</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> 15</td><td> -100.780</td><td> 87.517</td></tr><tr><td> 17.14</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">对象</span></span></span></span></span></span></span></span></span></span></span></td><td>15</td><td> -87.038</td><td> 70.865</td></tr><tr><td> 15.13</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">主语</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> 6</td><td> -13.238</td><td> 26.132</td></tr><tr><td> 15.13</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">对象</span></span></span></span></span></span></span></span></span></span></span></td><td>6</td><td> -22.681</td><td> 23.150</td></tr><tr><td> 13.11</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">主语</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> 6</td><td> -4.111</td><td> 12.659</td></tr><tr><td> 13.11</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">对象</span></span></span></span></span></span></span></span></span></span></span></td><td>6</td><td> -16.343</td><td> 5.992</td></tr></tbody></table></figure><p>正如我们所看到的，特征向量非常有效——尽管在某些注意力头中比其他注意力头更有效。除了不同强度的效果之外，我们还看到不对称性，其中减去特征向量比添加该特征向量产生更大的效果，反之亦然。我将这些现象归因于 QK 电路非线性以及注意力头合成效应（例如，头 13.11 的特征向量实际上可能与虚拟注意力头 13.3 ->; 17.14 的特征向量方向相反——其中相同的转向向量不仅影响同一层中的不同头，甚至影响稍后计算中的不同头）。尽管如此，激活控制在这种情况下是有效的，这一事实让我对可观察到的传播充满了希望。</p><h2>初步性别偏见结果</h2><p>除了性别代词预测的工作之外，我还想研究一个更“实际”的问题：解决语言模型中的职业性别偏见。考虑提示模板<code>&quot;&lt;|endoftext|>;My friend [NAME] is an excellent&quot;</code> ，其中<code>[NAME]</code>被替换为性别名称。现在，如果提示中的名字是女性，那么我们期望模型预测下一个标记更有可能是“女演员”而不是“演员”——这两个标记指的是相同的职业，但前者是语法上是女性，而后者在语法上通常是男性。这是语言模型中的明智行为。</p><p>然而，该模型还预测，对于女性名字，下一个标记更有可能是“护士”而不是“程序员”。在这种情况下，我们说该模型是有偏差的，因为它是根据性别进行预测的，尽管护理和编程职业之间的差异不应与语法性别相关。</p><p>因此，这引发了以下问题：</p><ul><li>导致模型预测“女演员”比“演员”更有可能的相同特征是否也会导致模型预测“护士”比“程序员”更有可能？</li><li>我们能否找到激活引导向量来减少“护士”相对于“程序员”的预测程度，同时增加“女演员”相对于“演员”的预测程度？</li></ul><p>我们可以通过定义感兴趣的可观察量来开始解决这些任务。 <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">同样</span></span></span></span></span></span></span></span></span></span></span>是可观察的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="e_{\text{&quot; actress&quot;}} - e_{\text{&quot; actor&quot;}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">“女演员”</span></span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">-</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">“演员”</span></span></span></span></span></span></span></span></span></span></span> ，代表模型预测标记“女演员”而不是“演员”的程度。 <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span>将是可观察的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="e_{\text{&quot; nurse&quot;}} - e_{\text{&quot; programmer&quot;}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">&quot;nurse&quot;</span></span></span></span></span></span> <span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-msubsup MJXc-space2"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">e</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">&quot;programmer&quot;</span></span></span></span></span></span></span></span></span></span></span> ，表示模型预测标记“nurse”而不是“programmer”的程度。理想情况下，对于<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">相同的</span></span></span></span></span></span></span></span></span></span></span>女性名字，模型的输出会很高，因为这代表模型认识到“女演员”这个词专门用于女性；另一方面，对于给定女性名字的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span> ，模型的输出应该较低，因为否则，这是模型偏差的证据。</p><p>尽管我仍在研究此任务，但以下是一些初步结果，展示了可观察传播在此设置中的应用。</p><h3>该模型使用一些相同的特征来预测<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">与</span></span></span></span></span></span></span></span></span></span></span><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span>相同</h3><p>最初查看<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">same</span></span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span>之间注意头特征向量的余弦相似度并不表明该模型对两个可观察量使用相似的特征：对于头 15.13，发现的最高余弦相似度仅为 0.4896。 （有趣的是，我们还发现了一些余弦相似度小于-0.75的头部。）</p><p>然而，我随后考虑了注意力头部的构成，这取得了更多的成果。作为一个例子，我发现对应于虚拟注意力头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="6.6 \to 15.13 \to 17.14"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">6.6</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">15.13</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">17.14</span></span></span></span></span></span></span>的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">same</span></span></span></span></span></span></span></span></span></span></span>特征向量与对应于虚拟头<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="6.6 \to 15.13 \to 21.13"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">6.6</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">15.13</span></span> <span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em;">→</span></span> <span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">21.13</span></span></span></span></span></span></span>的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span>特征向量具有<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="0.9541"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0.9541</span></span></span></span></span></span></span>的余弦相似度。请注意，在不考虑任何注意力头组成的情况下，头 6.6 的余弦相似度为<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="-0.0640"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">-</span></span> <span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">0.0640</span></span></span></span></span></span></span> 。</p><p>我的初步结论是，当考虑到注意力头组成时，该模型在计算<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">的</span></span></span></span></span></span></span></span></span></span></span>输出时确实使用了一些与<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span>相同的特征。换句话说，用于正确预测女性名字比“演员”更有可能出现在标记“女演员”之前的一些相同信息也被用来产生女性名字更有可能关联的偏见输出标记为“护士”而不是“程序员”。</p><p>在更新中，我计划对两个可观察量之间的共享特征向量进行更彻底的分析。但就目前而言，这样的结果似乎表明，在某种程度上，相同的中间计算正在用于所需的场景和有偏差的场景。</p><h3>寻找转向向量来消除模型的偏差</h3><p>然后我想看看是否可以找到一些引导向量，这样当这些向量添加到某些激活时，它们会提高模型在<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">相同</span></span></span></span></span></span></span></span></span></span></span>目标上的性能，但会降低其在<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span>目标上的性能；这对应于减少偏见行为同时增加期望行为。</p><p>作为我们的引导向量，我尝试使用来自多个不同注意力头的特征向量，这些注意力头的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">相同</span></span></span></span></span></span></span></span></span></span></span>特征向量和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">不同</span></span></span></span></span></span></span></span></span></span></span>特征向量之间的耦合系数是最负的。尽管并非每个头都能工作，但我发现许多头在为这些头添加特征向量时确实产生了所需的效果。我使用之前激活引导实验的方法来评估激活引导结果，使用通过将性别名称插入提示模板<code>&quot;&lt;|endoftext|>;My friend [NAME] is an excellent&quot;</code>生成的数据集。这些头的结果可以在下表中找到：</p><figure class="table"><table><thead><tr><th>头</th><th>代币</th><th><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">不同</span></span></span></span></span></span></span></span></span></span></span>或<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n 个</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">相同</span></span></span></span></span></span></span></span></span></span></span></th><th>耦合</th><th>功能乘数</th><th><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">差异</span></span></span></span></span></span></span></span></span></span></span>效应</th><th><span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span>效果<span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">相同</span></span></span></span></span></span></span></span></span></span></span></th></tr></thead><tbody><tr><td> 17.6</td><td> 5</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">差异</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> -0.5230</td><td> -300</td><td> -3.6119</td><td> 2.7614</td></tr><tr><td> 18.2</td><td> 0</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">差异</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> -0.2298</td><td> -1000</td><td> -0.4604</td><td> 0.4694</td></tr><tr><td> 19.15</td><td> 0</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">差异</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> -0.4957</td><td> -300</td><td> -0.8513</td><td> 1.8351</td></tr><tr><td> 23.10</td><td> 4</td><td> <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">相同</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">_</span></span></span></span></span></span></span></span></span></span></span></td><td> -0.5665</td><td> -120</td><td> -1.2027</td><td> 0.1038</td></tr></tbody></table></figure><p>请注意，我们使用了一些尝试和错误来找出哪些注意力头产生了最佳效果，以及哪些特征乘数最好。由于之前激活引导实验讨论中提到的原因，并不是每个注意力头都像人们最初想象的那样有效。然而，通过使用具有最大负耦合系数的磁头作为指导，我能够相对容易地找到一些好的转向矢量。</p><p>特别是，当我从标记 5 的嵌入中减去注意头 17.6 的<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span>的特征向量<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="-300"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">-</span></span> <span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">300</span></span></span></span></span></span></span>倍时，这令人印象深刻地导致<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{diff}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.23em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.372em;">diff</span></span></span></span></span></span></span></span></span></span></span>的平均效果为<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="-3.6119"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">-</span></span> <span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3.6119</span></span></span></span></span></span></span> logits， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{same}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.151em; padding-bottom: 0.372em;">same</span></span></span></span></span></span></span></span></span></span></span>的平均效果为<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="2.7614"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">2.7614</span></span></span></span></span></span></span> logits。这意味着，将该向量应用于嵌入后，<i>有偏差输出的平均预测</i><i>比之前少</i>了<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="-3.6119"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em;">−</span></span> <span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em;">3.6119</span></span></span></span></span></span></span> logits，而语法正确的输出的平均预测比之前多了 2.7614 logits。</p><p>我发现这些初步的激活引导结果是可观察传播带来的好处的一个很好的例子。通过使特定任务能够在数学上形式化为可观察量，然后可以使用耦合系数等指标来比较其相应的特征向量，可以使搜索能够提高模型在一项任务上的性能同时降低模型在另一任务上的性能的引导向量变得更加简单。</p><h1>讨论</h1><p>那么，考虑到这些实验，我们可以说可观察传播有多大用处呢？到目前为止，我发现的初步结果（包括本文中介绍的结果）表明它至少在以下方面非常有用：</p><ul><li>它允许使用特征向量范数和耦合系数来预测模型组件的行为，而无需在任何数据上运行模型。即使预测与实际结果之间存在差异，预测仍然可以用作进一步分析的良好起点。</li><li>它可以提供整个模型中针对给定任务正在使用哪些信息的“痕迹”。</li><li>它让我们可以了解模型何时对多个不同的任务使用相同的特征，从而更好地理解模型使用的常见计算。</li><li>它可以用作查找与特定任务相关的激活引导向量的起点，甚至可以作为对不同任务产生不同（预期）影响的激活引导向量。</li></ul><p>当然，所提出的可观察传播仍然存在许多限制。最大的限制是可观察传播仅解决 Transformer 中的 OV 电路，忽略 QK 电路中执行的所有计算。例如，这意味着<a href="https://transformer-circuits.pub/2021/framework/index.html#induction-heads">感应头</a>背后的机制无法充分建模。这也导致了激活引导实验中出现的一些意想不到的效果（例如不对称效果、特征向量不如预期有效等）。现在，处理 QK 电路相当困难，因为与 MLP 和 LayerNorm 不同，QK 电路是涉及多个标记的非线性。但为了让我们充分理解《变形金刚》，QK电路必须得到解决：不能有任何<i>无知</i>。</p><p>除此之外，还有一个问题是，用于扩展可观察传播以与 MLP 一起使用的线性近似方法可以在多大程度上产生一组与 MLP 中不同的近线性子区域相对应的易于处理的特征（<i>如</i><a href="https://www.lesswrong.com/posts/eDicGjD9yte6FLSie">多胞形透镜</a>），或者 MLP 中的非线性是否太大以至于使这种努力不可行。一些未纳入本文的初步实验表明， <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{subj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">subj</span></span></span></span></span></span></span></span></span></span></span>和<span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n_{\text{obj}}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.219em; padding-right: 0.071em;"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mtext"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.519em;">obj</span></span></span></span></span></span></span></span></span></span></span>的 MLP 特征向量的余弦相似度约为 0.60——这并不是太高。但余弦相似度可能不是衡量通过线性近似找到的“局部特征”之间相似度的正确度量；或者，找到执行线性近似的点的更好方法可能会产生更相似的特征向量。无论如何，我计划在更大的数据集上进行更多实验，重点关注 MLP 特征。</p><p>尽管存在这些限制，我认为可观察的传播代表着深入理解 Transformer 在计算中使用的特征向量以及如何使用这些特征向量来改变这些模型的行为的重要的第一步。至少对我来说，这些初步实验的结果表明，可观察传播将被证明是解释和操纵 Transformer 的有用工具。</p><p> As a final note, let&#39;s return to the earlier question of what generalizations could increase the power of observable propagation that I&#39;m failing to make. It&#39;s hard for me to enumerate a list of my own blind spots, of course. I will say, though, that one limitation is that the &quot;observable/feature vector&quot; paradigm only looks at the interaction between a single token and a feature vector, rather than the interaction between multiple tokens. But interactions between multiple tokens are necessary for understanding QK circuits, for instance. Now, in the setting of linear algebra, a natural sort of function on multiple vectors is a &quot;multilinear form&quot;, which generalizes the notion of a linear functional to multiple arguments. As such, one way to generalize the observable propagation paradigm, which currently only makes use of linear functionals, would be to consider multilinear forms. But the proper way to do so remains to be seen.</p><h1>结论</h1><p>In this post, I introduce &quot;observable propagation&quot;, a simple method for automatically finding feature vectors in Transformers&#39; OV circuits that correspond to certain tasks. This post also develops a mathematical framework for analyzing these feature vectors, that allows for the prediction of model behavior on different tasks without running the model on any data. Preliminary experiments suggest that these methods perform well in predicting model behavior and steering model behavior towards desired outcomes. Of course, there&#39;s still a lot more work to be done in testing these methods and improving them, but I think that what I&#39;ve presented thus far in this post implies that observable propagation can already be useful.</p><p> If this post has piqued your interest, then stay tuned for an update which will contain even more experiments. Thank you for reading! </p><ol class="footnotes" role="doc-endnotes"><li class="footnote-item" role="doc-endnote" id="fnu4fd3ietm2f"> <span class="footnote-back-link"><sup><strong><a href="#fnrefu4fd3ietm2f">^</a></strong></sup></span><div class="footnote-content"><p> For those who have read ahead: this refers to finding approximate feature vectors by ignoring LayerNorms, and finding better approximations using small amounts of data by finding the linear approximation of LayerNorm at those datapoints.</p></div></li><li class="footnote-item" role="doc-endnote" id="fnq6jwzi5ovy"> <span class="footnote-back-link"><sup><strong><a href="#fnrefq6jwzi5ovy">^</a></strong></sup></span><div class="footnote-content"><p> This name is intended to suggest the notion of &quot;observables&quot; from quantum mechanics; in that domain, observables are Hermitian operators corresponding to certain properties of a quantum system that one wants to measure. Although there are some differences between that setting and the LLM setting (for instance, a linear functional is not a Hermitian operator), the similarities between the two cases provide valuable intuition: in both cases, an observable is a linear map that corresponds to a type of measurement of a probabalistic system.</p></div></li><li class="footnote-item" role="doc-endnote" id="fnlpxvw4f8bc"> <span class="footnote-back-link"><sup><strong><a href="#fnreflpxvw4f8bc">^</a></strong></sup></span><div class="footnote-content"><p> Note that while linear functionals and vectors are different beasts in general, it&#39;s true that in finite-dimensional vector spaces, there is a one-to-one natural correspondence between linear functionals and vectors. As such, for a vector <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> , I might abuse notation a bit and refer to both <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span></span></span></span></span> and <span><span class="mjpage"><span class="mjx-chtml"><span class="mjx-math" aria-label="n^T"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em;">n</span></span></span> <span class="mjx-sup" style="font-size: 70.7%; vertical-align: 0.513em; padding-left: 0px; padding-right: 0.071em;"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.12em;">T</span></span></span></span></span></span></span></span></span> as observables.</p></div></li><li class="footnote-item" role="doc-endnote" id="fndhiuepbiqad"> <span class="footnote-back-link"><sup><strong><a href="#fnrefdhiuepbiqad">^</a></strong></sup></span><div class="footnote-content"><p> In essence, what this process is actually doing is computing the gradient of a specific computational path through the model that passes through the nonlinearity.</p></div></li><li class="footnote-item" role="doc-endnote" id="fn5o6rzjjq02e"> <span class="footnote-back-link"><sup><strong><a href="#fnref5o6rzjjq02e">^</a></strong></sup></span><div class="footnote-content"><p> This follows from the expression for the gradient of LayerNorms used in the <a href="https://raw.githubusercontent.com/jacobdunefsky/observable-propagation/master/Observable_Propagation_Proofs.pdf">proof of Theorem 1</a> .</p></div></li><li class="footnote-item" role="doc-endnote" id="fn3ckjhluza55"> <span class="footnote-back-link"><sup><strong><a href="#fnref3ckjhluza55">^</a></strong></sup></span><div class="footnote-content"><p> Technically, the mean norms of embeddings were used in order to approximate the gradient of the final LayerNorm in the model, <code>ln_f</code> . But because the computational paths associated with these single attention heads all go through the same LayerNorm, we can get a decent approximation of relative feature vector norms by simply ignoring the LayerNorms entirely. I haven&#39;t included the figures for that here, but looking at feature vector norms without taking into account LayerNorms yields the same top four attention heads.</p></div></li><li class="footnote-item" role="doc-endnote" id="fnyjcwq2rp51i"> <span class="footnote-back-link"><sup><strong><a href="#fnrefyjcwq2rp51i">^</a></strong></sup></span><div class="footnote-content"><p> There was nothing principled about multiplying the feature vector by 50, as opposed to some other constant.</p></div></li></ol><br/><br/> <a href="https://www.lesswrong.com/posts/jDfjqu2qJLcPco9cf/automatically-finding-feature-vectors-in-the-ov-circuits-of#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/jDfjqu2qJLcPco9cf/automatically-finding-feature-vectors-in-the-ov-circuits-of<guid ispermalink="false"> jDfjqu2qJLcPco9cf</guid><dc:creator><![CDATA[Jacob Dunefsky]]></dc:creator><pubDate> Tue, 12 Sep 2023 17:50:12 GMT</pubDate> </item><item><title><![CDATA[Startup Roundup #1: Happy Demo Day]]></title><description><![CDATA[Published on September 12, 2023 1:20 PM GMT<br/><br/><p> There were a bunch of discussions recently related to issues surrounding Y-Combinator, related as usual to their annual demo day. It seemed worth splitting them off into a post.</p><span id="more-23535"></span><h4> Bidders at Auction Mostly Think Prices Are Too High</h4><p> YC is in session, so all the usual talk is back.</p><blockquote><p> Paul Graham: As happens every single YC batch, investors complain that the valuations are too high, and the startups raise anyway.</p><p> Kush: Is there any specific reason why you think this happens?</p><p> Paul Graham: Some investors just cannot grasp the implications of the fact that all the returns are concentrated in the big wins. The top tier investors get it though; you&#39;ll rarely lose one of them over price.</p><p> Amal Dorai: Isn&#39;t the dynamic range of YC valuations narrower than the companies themselves? We see pretty much a 2x range that they&#39;re raising in, but >;10x variance in current traction. The high flyers are fine but those riskier companies still finding their footing are behind the 8 ball.</p><p> Paul Graham: The variation in valuations is much smaller than the variation in quality. That&#39;s what determines risk, not their current traction. If current traction were a perfect or even good predictor, investing would be trivially easy.</p><p> David Tran: “You&#39;ve found the market price when buyers complain but still pay” <img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/2azxasXxuhXvGfdW2/yskawtp1xroyjv2jhhtq" alt="😃" style="height:1em;max-height:1em"></p><p> Dan Grey: What I&#39;ve seen investors saying is that they would rather wait a year and then invest in the next round – which happens at a similar price but with much more proof. If the initial round is not offering the right level of upside for the risk, why should investors jump in?</p><p> Paul Graham: That was an amusingly novel variant. I only saw one investor say that. The reason it&#39;s a dumb strategy is that choosing companies whose valuation hasn&#39;t increased a year later selects for bad ones.</p></blockquote><p> This model tells me that the lower valuation, less exciting companies in YC are likely overvalued, and the higher valuation, more exciting companies in YC are highly undervalued.</p><p> I see two distinct dynamics here, the one Graham and Dorai raise, and Tran&#39;s.</p><p> Tran&#39;s is the core reason investors complain prices are too high. Of course most investors think the YC prices are too high. There are tons of investors chasing not that many YC companies with not that much space in their rounds. YC companies have many advantages over non-YC companies, including all three of:</p><ol><li> Selection effects (I don&#39;t think there are zero bogus AI companies in the round, but YC is excellent at picking good founding teams and promising companies).</li><li> Endorsement effects (YC pedigree is a strong signal and coordination point, everything will be easier with the name attached).</li><li> Enrichment effects (YC gives you an amazing network and toolkit, and teaches you a ton, and gives you motivation and focus).</li></ol><p> On top of that, there is the compression of valuations effect.</p><p> YC companies are wisely advised, the internet reports, to raise floor prices on rounds, because it saves you a lot in terms of ownership and with the YC name you can expect to raise the funds anyway. So the relatively non-exciting companies charge a lot, as they should. Why would you sell more equity for less money when you can sell less equity for more money?</p><h4> You Would Pay For The Ability To Charge More</h4><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/paulg/status/1694099152404398581">Paul Graham points out</a> that this whole dynamic makes YC valuable, and the witnesses are highly credible.</p><blockquote><p> Would-be founders: When later stage investors complain, as they always do, that the Demo Day valuations of YC companies are too high, what they&#39;re saying is that doing YC will enable you to raise money with less dilution.</p><p> This is a valuable claim for YC to be able to make, but it&#39;s even better when it&#39;s made for YC by people who clearly don&#39;t mean it as a compliment.</p></blockquote><p> It does not matter, from the startup&#39;s perspective, how much of their increased value comes from endorsement versus enrichment. It does matter to them to what extent it is selection.</p><p> I will also note that the existence of YC lowers the valuation of every company that is not in YC. You know that if they could have done YC, they probably would have, so you are fighting against highly adverse selection. All the more reason to do YC, then.</p><h4> The Best Deals Come With the Best Prices</h4><p> The most exciting companies in YC charge a lot as well, but it looks like they don&#39;t charge all that much more. There is as I understand it a convention in the space about what valuations are &#39;supposed to be.&#39; You can vary within the range, but once the founders are raising at an unusually high valuation right out of the gate, the price matters a lot less because they are giving over much less of the company. So rather than raise more money in exchange for less of the company, focus often shifts to gaining allies, setting up a path and telling the right story.</p><p> In particular, considerations of avoiding possible down rounds, and choosing the right strategic VC partners, seem to dominate price considerations at the high end.</p><p> You rarely lose a top VC over price because there is strong desire on both sides to not let this stop the deal. The startup gets better VC flow to help it down the line, and the top VCs get the better deal flow that provides most of their alpha.</p><p> From the startup&#39;s perspective, this is epic highway robbery, using the conventions of VCs to buy equity for far less than it is worth, but given the situation they are well advised to pay up.</p><p> If you are a top VC, this is amazing. You keep putting out a quality product, and YC will give you great deal flow, shining giant lights over great opportunities that don&#39;t use their full pricing power.</p><p> If you are not a top VC, this is a big problem. Adverse selection is happening now, not only in the growth of valuations later. If you could invest in a broad portfolio of companies at YC that look good to you, or even YC companies overall, that would be fine. The problem is you cannot do that, so you are looking at companies with 10% the hit it big prospects of other companies (that won&#39;t answer your emails because you suck and they can do better) but 50% of the valuation, and saying the price is too high.</p><blockquote><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/Jeffreyw5000/status/1692996154235949166">Jeff Weinstein</a> : YC startups that would have raised at $8M cap in 2017-2020 are today raising at $20M cap.</p><p> In part this is due to the larger YC investment and MFN, but it also feels like these companies are being given bad advice and remain in denial that we&#39;re not in 2021 anymore.</p><p> This is fine if you execute absolutely flawlessly, find PMF, and raise enough to give you years of runway, but more often than not it puts startups in a tricky spot in 12 months, when they are valued on multiple instead of story.</p><p> Given these founders are raising at uninvestable prices around demo day, more and more often we are passing due to price and revisiting in 12 months!</p><p> Amjad Masad (CEO Replit): This is just market dynamics — nothing irrational on the part of founders. The alpha is simply dissipating (you are not entitled to alpha).</p><p> Those who will continue generating returns are the great pickers who can get great ownership % and the ones investing pre-seed (and pre YC).</p></blockquote><p> My only quarrel with Masad here is that one must be careful not to confuse great picker with good deal flow. There is definitely no reason VCs should be entitled to alpha, or the majority of YC investments should even be good deals.</p><p> For startups, a consequence of this dynamic is that most startups get huge value out of YC via raised evaluations and reputation, but the very top startups do not. They were already sending out strong enough signal that they were going to write their own ticket when raising money and not charge the market clearing price, so raising the market clearing price does little.</p><p> Should those top companies do YC anyway, despite the cost in equity? It is less obvious and likely differs case by case, especially since you can never be sure early on if you are or will remain one of these companies, and YC can help turn you into one. If I was in a life position were I could do YC and was founding a company that fit, then no matter how good things looked, I would definitely apply intending to accept if they said yes. If I gave up a little value, I am doing so well I don&#39;t much care.</p><h4> Raise Early, Raise Often, Raise Everywhere</h4><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/kwharrison13/status/1699457717977391608">Kyle Harrison offers what seems like good advice</a> , most of which is standard. Start raising with more than a year of runway because it takes variable time that can get long and now more than ever you cannot count on VCs to actually deliver. Cast a wide net and talk to many VCs, but be straight about who you are and what kind of fit you need so time isn&#39;t wasted on both ends.</p><p> He suggests writing a memo that articulates things, rather than pure reliance on a deck. That certainly seems like a superior equilibrium.</p><h4> Good VCs Get Their Money Back Surprisingly Often</h4><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/paulg/status/1694401451169308912">Paul Graham sees a different takeaway than I do on this next point.</a></p><blockquote><p> Paul Graham: David Clark of VenCap analyzed the returns from 11,350 startups backed by 259 funds from 1986 to 2018. About half these investments lost money, but 121 (1.1%) returned the entire amount of the fund that invested in them.</p><p> Two of their top ten investments were founded after 2010. Both are YC companies. That&#39;s what draws later-stage investors to YC. The valuations may be high, but it&#39;s where the really good startups are, and that&#39;s what matters most for returns.</p><p> David Clark: Top 10 fund returners by multiple of cost are as follows: 10. Coinbase 9. Slack 8. Portal Software 7. Facebook 6. Avanex 5. Google 4. Ariba 3. Yahoo 2. Brocade 1. DoorDash Multiples range from 140x to over 800x</p></blockquote><figure class="wp-block-image"> <a href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a839c18-8b2b-4ef2-95c8-9ead44a54da1_680x413.jpeg" target="_blank" rel="noreferrer noopener"><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/dGvcx3giYngcSEaMZ/pnqljhj791iv3f6ex2l1" alt="图像"></a></figure><p> Instead, I had Yuri&#39;s reaction.</p><blockquote><p> Yuri Sagalov: I&#39;m actually surprised only ~50% of the investments returned &lt;1x. I would have thought that number would be higher.</p><p> Paul Graham: Me too. But we live in the early stage.</p></blockquote><p> If you can simultaneously get your money back 46.8% of the time, and also have this distribution of profits, that is a fantastic business. This is a 36.8% return even if you discard the Fund Returners entirely and mark everyone else to the extreme low end of their ranges. Yes, the FRs are important, and if we have 259 funds making ~12k investments they start on average at ~50x, but you don&#39;t actually need them if you only fully miss half the time. As Paul notes these will be later investments, but also not that late.</p><h4> If You Want it Done Right</h4><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/gustaf/status/1692685141221531728">Gusaf Alstomer (of YC) notes that using a designer on your pitch deck never works</a> .</p><blockquote><p> Gusaf Alstomer: Pitch-deck advice: I don&#39;t think I have ever seen a fundraising deck getting better by using a designer to design it. The same goes for using fancy tools like Figma, Keynote,</p><p> <a href="http://Pitch.com" rel="nofollow">http://Pitch.com</a> , or Canva. At <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/ycombinator">@ycombinator</a> we recommend people to use Google Slides and keep it simple. The two mistakes founders make are believing that the creative capabilities of the tools make a better deck. The second mistake is believing that the design is important.</p><p> The most creative people operate under constraints. And the most powerful tools are your words and storytelling. Clear communication and relatable storytelling allow a listener to put themselves in the seat of the person having the problem you are solving. The best way to visualize this is with real photos of real people having these problems.</p><p> The best fundraising decks have this structure:</p><p> 1) Headline that concludes the point you are making</p><p> 2) 3-4 bullets with evidence towards the point you are making</p><p> 3) Repeat until you&#39;ve covered all conclusions</p><p> 4) Wrap this in a storytelling narrative – tie the slides together with a story</p><p> 5) Whenever possible, only use real photos and if you use screenshots, zoom in on the thing that tells the story</p><p> The exception to the “don&#39;t hire a designer rule” is when the founder themselves is a designer. They know what is important about this business – another person will never know this.</p></blockquote><p> This very much matches my experience as well. Designers have a very different skill set and are aiming at a different target. They don&#39;t understand what matters, and what matters will often change quickly or as you shift contexts, and you will want to edit on the fly. The deck also needs to be congruent with you and match your voice. Yes it is good if your deck looks nice but ultimately that does not much matter.</p><p> There is an important general point here. When there is a primary expertise that matters most, you will often see people making horrible errors in secondary areas, because the winning play is to focus on what matters. I wonder if AI will alter this.</p><h4> You&#39;ll Need the Time to Do That</h4><p> A common productivity theme is that by default people do a lot of grunt work that eats up a lot of their time. Another is that taking care of the fundamentals and getting your house in order gives you a big leg up.</p><p> If your time and efforts are valuable, and especially if you are a founder and have increasing returns to effectiveness deployed, <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/webdevMason/status/1699172098865057968">perhaps someone should help with that?</a></p><blockquote><p> Avi: I would pay so much money for a single service that completely handled my basic needs so I could focus</p><p> * laundry</p><p> * 3x/day meal prep</p><p> * personal trainer</p><p> * cleaner</p><p> * therapist turn my house into a monastery.</p><p> This should be VC value add. Founders should treat themselves as athletes</p><p> Mason: Don&#39;t say it</p><p> Don&#39;t say it</p><p> Mason don&#39;t</p><p> Aaaaaaaagh IT&#39;S A WIFE YOU WANT A WIFE</p><p> Avi (distinct reply to his OP but this order is more logical and also funnier): Funny thing is if I tweeted this saying I want a wife to do this for me I&#39;d also get flamed. I feel that if you raise funding, part of it should *temporarily* go to removing distraction. This includes healthy meal prep, sleep tracking, etc. I know the tweet comes off a bit inane, but I&#39;m a single 20 year old with no intention of getting into a relationship. I live and breathe my work. Twitter is my only vice.</p><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/drethelin/status/1699288880657338382">Misha Gurevich</a> (responding to OP): I think too many people watched Batman as kids and have an idea of “monasteries” as training centers for turning you into a badass instead of fundamentally boring places where you do manual labor in poverty and pray.</p><p> A lot of people seem to think if they had a butler he would be the Albert to their Batman but really they want a Jeeves to their Wooster.</p><p> “Jeeves is a valet, not a butler; that is, he is responsible for serving an individual, whereas a butler is responsible for a household and manages other servants. On rare occasions he does fill in for someone else&#39;s butler. According to Bertie Wooster, he &#39;can buttle with the best of them.&#39;”</p></blockquote><h4> Credits You Will Need More of Are Essentially Money</h4><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/yuris/status/1693784255237968307">Friendly reminder</a> .</p><blockquote><p> Yuri Sagalov: Founders, if you&#39;re in the fortunate position to have AWS/etc credits, don&#39;t treat them as “free money.” Instead, treat it as extra cash on your balance sheet that you can <strong>only</strong> use for one purpose, and count your AWS usage as part of your burn. Don&#39;t wait until they run out.</p><p> James Hu: This is the same way to think about credit card points and miles. It&#39;s cash, and just as good as cash for anyone who travel, and should be treated as such.</p></blockquote><p>确切地。 If you have credit somewhere and will inevitably spend it and then keep spending, that credit is functionally no different from cash. Spending it is no different from spending cash. The same goes for any other asset that can be used in place of cash. If it would otherwise go to waste, then that is different, otherwise its value is equal to the opportunity cost. Which is usually damn close to $1 per dollar.</p><h4> Get Your App Out There Quick</h4><blockquote><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/theapplehub/status/1699725358017523928">Apple Hub</a> : The App Store and iOS are now officially designated as gatekeepers in the EU and will need to comply with the Digital Markets Act (DMA) This means Apple will be required to allow users to downloads apps from the internet and third-party app stores.</p><p> Do you agree with this regulation?</p><p> Emmett Shear: Woah this is huge news if it gets enforced. Would be the best thing for the tech ecosystem in a long time…if the USA doesn&#39;t follow suit will actually significantly advantage European startups! Or at least startups deploying in EU first.</p></blockquote><p> There was no poll, which I am guessing was the right choice by Apple Hub.</p><p> I would not be in the habit of regulating such matters, but if I was, this would be a good choice of regulation. It does seem first-level helpful.</p><p> What does this do for startups? It means you can get your app to Europe&#39;s iPhone users without the app store. If you can find them without the app store. If they are willing to side load. Which will be rare. People do not like to sideload even on Android, where it is supported and you have people opting into that ecosystem.</p><p> My prediction is that this does not end up having that much practical impact.</p><h4> No, Quicker Than That</h4><blockquote><p> Bri Kimmel: This is the first YC Demo Day in a very long time where the majority of B2B companies had paying customers, recurring revenue, and large contracts with companies way too big to work with a small startup.</p><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/garrytan/status/1699777074456924662">Garry Tan</a> (President of YC): 75% of the companies presenting today started with no revenue on day one of YC. 81% had never raised a dime. During the past 3 months, we pushed the startups hard to build meaningful software and sell it. This is the speed up that I have only ever really seen YC do for founders.</p><p> Joe Benjamin: Why do you think so many founders are slow to go out and sell when starting out?</p><p> Garry Tan: Fear of failure.</p></blockquote><p> How easy it is to forget that selection effects and network effects and other affordances are in play.</p><p> If you are in YC, you have been selected by Garry Tan and others based in large part on them thinking you will soon be able to go out and sell, then they are giving you lessons on how to do that, network connections and other resources to help you do that, helping sculpt your pitches and targets and such, and also giving you the &#39;I&#39;m in YC&#39; foot in the door that I presume helps with large companies. You have the tools to make sacrifices in order to do the selling, in turn in order to go faster and get better valuations and also learn faster. And of course they exert massive social pressure in the other direction.</p><p> If you are not in YC, you are in a very different situation all around. It is very possible to be attempting to sell too much too quickly, before you are ready.</p><p> Failure can also be not only damaging but cascading. Games that come out and try to get revenue too early and fail to sell are marked as failures, I have had this happen to me and watched it happen elsewhere – the game improved later, the algorithms and fans have moved on, it is too late. A focus on revenue before it is too early can also waste your time, tell the wrong story that breaks your ability to continue or raise, burn your best leads and plays before you are ready, or otherwise devastate.</p><p> So no, I do not think this decision is that easy, even if what are otherwise the best startups would be better served selling more and selling faster. I have had multiple experiences with the opposite mistake.</p><h4> All The Startups Are Now AI Startups</h4><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/paulg/status/1697083056597631271">Meanwhile, Paul Graham continues to notice that YC is now all about AI</a> .</p><blockquote><p> Paul Graham: I haven&#39;t been more optimistic about YC since I retired in 2014. Garry has been doing a great job, and the current batch is a particularly good one.</p><p> The AI boom will be very good for YC. It will mean a lot more startups, and the kind of founders who win at it are the kind that YC specializes in.</p><p> YC has already been transformed by the AI boom. I&#39;d guess more than half the founders in the current batch are working on AI startups. It&#39;s like an ongoing AI symposium with over 200 participants.</p></blockquote><p> I actually buy this. A YC-style team and approach are unusually well suited to this moment, YC&#39;s infrastructure will be a big help, and YC will largely have its pick of founders. What a great time to be YC.</p><p> I would once again however double down that there are doubtless quite a few bogus AI companies involved. Nothing becomes this ubiquitous, this all-consuming, this hyped, without bogosity. Failure to spot them, however, does not automatically mean <a target="_blank" rel="noreferrer noopener" href="https://www.youtube.com/watch?v=5vEp5Bv-J40&amp;ab_channel=EliteFilmClips">you are the sucker</a> . It is a hits-based system, so what if some of them aren&#39;t real? What matters is the deal flow giving you access to the best stuff, not avoiding false positives.</p><p> <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/paulg/status/1699815950772519277">So, what are all these non-bogus companies up to?</a></p><blockquote><p> Aaron Levie: All the enterprise AI startups going after verticals have the right idea. Pick a market, deeply understand the workflows, build simple software to model the workflows, and use AI to augment the human judgment involved. Huge opportunity in 1,000&#39;s of categories.</p><p> Paul Graham: This is the median startup in the current YC batch.</p></blockquote><p> I have certainly seen worse plans. Enough to fill out a demo day. I would doubt that there are thousands of such categories offering great opportunity.</p><h4> Man With Moat Unconcerned With Non-Flying Creatures</h4><p> What happens if someone copies you? <a target="_blank" rel="noreferrer noopener" href="https://twitter.com/paulg/status/1697761812698034630">Don&#39;t worry about it</a> , says Paul.</p><blockquote><p> Paul Graham: When people copy you, the best strategy is usually to ignore them. People who copy you are (a) unoriginal and (b) opportunists, and those are both strong predictors of failure. If you wait them out, they&#39;ll eventually drop away.</p><p> Joel Fraunsic: “I&#39;ve been imitated so well I&#39;ve heard people copy my mistakes.” ― Jimi Hendrix</p><p> Paul Graham: This happened with both Viaweb and Y Combinator.</p></blockquote><p> When people attempt to make exact copies on various levels, yes they usually fail, but often they also don&#39;t, and if there are lots of imitators most of them failing does not mean that you can safely ignore the phenomenon. The advice to ignore them goes hand in hand with working actually super hard to ensure that one can safely ignore them, by being the best like no one ever was and continuously improving and having strong reputational and network effects. In which case, sure, bring it on.</p><p> If they are not exactly copying you, rather taking you as reason to compete, that is in a sense great news about your situation absent the competition, but it definitely should worry you, especially if the competition is well-resourced. Noticing one example…</p><blockquote><p> Danny Alberson (CEO Agentive,YC &#39;23): I recently met with a VC firm twice, showed a product demo, and answered countless questions about our strategy. Only to find out from someone else they were already invested in a direct competitor.</p><p> Paul Graham: I just sent you an email. This should go in the investor database.</p><p> Danny Alberson: Absolutely. Thanks for following up.</p><p>绝对地。 Thanks for following up.: Please consider open sourcing it!</p><p> Li Ang: An open source database is very much needed.</p><p> Ronak Shah (other reply): This happened to me too. Not only the calls but they kept asking for my financial model so they could see my pricing / how I won big logos. They hid the fact that they invested in my competitor.</p></blockquote><p> [several other replies noted similar behavior, especially related to Web3/crypto]</p><p> Garry Tan (QTing Alberson): Warning to investors: there are consequences to this kind of behavior. I will personally make sure of it.</p><p> Austen Allred: I love YC.</p><p> Ryan Peterson: YC invests in competitors constantly though.</p><p> Paul Graham: This isn&#39;t a case of investing in a competitor. It&#39;s a case of pretending to be interested in a company in order to pump it for information.</p><h4> The Investor Database Is a Killer App</h4><p> There are a lot of services you get from YC. Given how multiplicative everything is when it comes to startups, it does not take much to get a big payoff. Purely raising your ambition alone is great, many other seemingly simple principles are great.</p><p> The payoff that impresses me most is the reputation, followed by the network. The most underrated is likely the broadly construed investor database, where you get intel on all the venture capitalists.</p><p> It is vastly different dealing with people whose actions have been and will be recorded into a central database. The VC knows that you will report back. You get to use the previous reports to know which VCs will treat you well, offer which resources, use which styles of negotiations, respond well to various approaches, and so forth. If the information is accurate, the ultimate impact on ability to raise money, from the right people, under the right conditions at the best price, seems colossal.</p><p> While I understand why one would want to retain this competitive advantage, it would be wonderful if this information could be disseminated to everyone. Behavior would improve, those who treat investors well would get rewarded, and outsiders in particular would have a much better shot at being founders. Even if I&#39;m not that excited to accelerate the ability to create AI startups right now, this has to be the right thing to do.</p><p> Would it be expensive to YC to give this up? My instincts say that it would not be. It would be amazing advertising, it would fuel the ecosystem and it would demonstrate value. There are enough additional advantages to YC that I predict most founders would not change their decision whether to participate. YC is not charging a market clearing price.</p><br/><br/> <a href="https://www.lesswrong.com/posts/dGvcx3giYngcSEaMZ/startup-roundup-1-happy-demo-day#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/dGvcx3giYngcSEaMZ/startup-roundup-1-happy-demo-day<guid ispermalink="false"> dGvcx3giYngcSEaMZ</guid><dc:creator><![CDATA[Zvi]]></dc:creator><pubDate> Tue, 12 Sep 2023 13:20:07 GMT</pubDate> </item><item><title><![CDATA[Is there something fundamentally wrong with the Universe?]]></title><description><![CDATA[Published on September 12, 2023 12:02 PM GMT<br/><br/><p> <i>Edit: added a paragraph nearing the end</i><br><br> Usually the question is: &quot;What is wrong with our society?&quot;, but I guess my gripe is that if you look at things with a System-lense, usually what you focus on is what has the most influence.<br><br> In other words, if our Planet would veer off course, it isn&#39;t really the fault of the Ants - even when they could have done more! The reason is bigger gravitational forces, or our Sun wanting some more space.<br><br> So, why would you blame a human being for something that seems to be governed by laws, forces and powers we A) don&#39;t fundamentally understand, B) can&#39;t fundamentally influence C) can&#39;t fundamentally change ?<br><br> I mean, from a human perspective, there are a lot of answers - Psychology, sociology, anthropology, evolutionary disciplines, religion - even transdisciplinary groups and projects. But again, you only answer the question from <i>inside the box</i> . If the box gives a certain output, and has specific constraints, why blame the Outputs for how the box works?</p><p> It makes more sense to me to assign fault at the level where the problem lies. If we dislike and abhor something, at which level does it arise?<br> A lot of expressions we use are filled with assumptions that are focused on our personal actions. Take murder, for example. Killing is bad, I agree, but is it the personal choice of the killer to enable murder, to make possible the possibility of dying? The pain, suffering, dread etc.? It is the Universe&#39;s Laws and principles that are allowing it and actively engaging in it (There are endless ways this Universe can and will kill us), is it not?<br><br> That is just one of numerous examples I can think of where I am questioning if by looking closely at an issue, it seems to be the direct consequence of a superintended principle we have 0 direct control over.<br> I mean, personal responsibility sounds nice, but if you really look at it - does it make any sense? Take genes, for example. They are based on millions of years of biological, and then even cultural evolution. That you have the &#39;ability&#39; to see a different way than eating your fellow friend, and can see more gains in keeping them alive - is it really &quot;Your&quot; achievement? How many choices are really &quot;Yours&quot;, and not the inexplicable results of processes that started millions of years before you were even consciously aware that you had a face and a body separate from the rest of the world?<br><br> Because if the problem is the Universe, wouldn&#39;t you have to fix its underlying Laws and principles if you wanted to fundamentally change anything? Because any other change would only be superficial, partial and temporary.<br><br> To also add that here, you can of course look at humans as &#39;Part&#39; of the universe, and not separate. Different maybe, but not separate. Which is a relevant vein to delve into, if you have something. As I see it, there doesn&#39;t seem to be a reciprocally positive relationship between the Universe and our individual consciousness - which seems odd. If break-ups have taught me anything, it might seem that the Universe is still bitter we stole that god-damn apple.<br><br> On a separate note (Joke joke?)<br> And so It is that I am still looking for the Universe help-desk. If anyone knows the number, or how to contact them, please let me know. If I&#39;m a beta-tester, I believe I should let them know that some things really, really, really don&#39;t seem to work that well.<br><br> Kindly,<br> Caerulea-Lawrence</p><br/><br/> <a href="https://www.lesswrong.com/posts/GbQFbsswjDpkuSYEA/is-there-something-fundamentally-wrong-with-the-universe#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/GbQFbsswjDpkuSYEA/is-there-something-fundamentally-wrong-with-the-universe<guid ispermalink="false"> GbQFbsswjDpkuSYEA</guid><dc:creator><![CDATA[Caerulea-Lawrence]]></dc:creator><pubDate> Tue, 12 Sep 2023 12:02:44 GMT</pubDate> </item><item><title><![CDATA[Apple Cider Baklava]]></title><description><![CDATA[Published on September 12, 2023 2:10 AM GMT<br/><br/><p><span>自从去年遇到</span><a href="https://www.jefftk.com/p/apple-cider-syrup">苹果汁糖浆</a>以来，我一直在试图弄清楚用它可以做什么。苹果酒甜甜圈是传统的，但我不太喜欢。将其混合到生奶油中效果非常好，并且可以为烘焙食品提供良好的甜酸馅料或配料。我尝试过松饼，用它来混合液体、糖、调味剂和发酵用的酸，但我还没有得到任何令我满意的结果。但几天前我做了一些苹果果仁蜜饼，这是我最喜欢的！</p><p> <a href="https://www.jefftk.com/baklava-loaf-pan-mostly-gone-big.jpg"><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/wu3r9AfKMDYzLzPPc/t8bligbnzszddyu1o3gf" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/wu3r9AfKMDYzLzPPc/t8bligbnzszddyu1o3gf 550w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/wu3r9AfKMDYzLzPPc/fidrhkddito9amo2czvc 1100w"></a></p><div></div><p></p><p><a href="https://en.wikipedia.org/wiki/Baklava">果仁蜜饼</a>是一层层的<a href="https://en.wikipedia.org/wiki/Filo">酥皮面团</a>（一种非常薄的面团），中间被脂肪隔开，每隔几层就有坚果。烘烤后，将甜糖浆倒在上面。在美国，人们可能最熟悉希腊风格，它使用黄油作为脂肪，核桃作为坚果，蜂蜜作为糖浆，但存在大量的地区差异。</p><p>我做了两个平底锅，一个是纯素的（地球平衡），一个不是（黄油）。黄油的味道好很多；可能有比地球平衡更好的选择吗？我用杏仁作为坚果，因为这就是我所拥有的。对于糖浆，我使用了新英格兰煮沸的苹果酒。对结果非常满意，我计划再做一次！</p><p> (Each loaf pan used ~$1.80 of <a href="https://www.webstaurantstore.com/mountain-cider-company-64-fl-oz-100-natural-spiced-apple-cider-concentrate/110MTCIDER64.html">cider syrup</a> , though if you really like it you could <a href="https://www.webstaurantstore.com/mountain-cider-company-100-natural-spiced-apple-cider-70-brix-concentrate-54-gallon-drum/110MTCIDERLG.html">buy in bulk</a> and get it down to $1.42.)</p><br/><br/><a href="https://www.lesswrong.com/posts/wu3r9AfKMDYzLzPPc/apple-cider-baklava#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/wu3r9AfKMDYzLzPPc/apple-cider-baklava<guid ispermalink="false"> wu3r9AfKMDYzLzPPc</guid><dc:creator><![CDATA[jefftk]]></dc:creator><pubDate> Tue, 12 Sep 2023 02:10:05 GMT</pubDate> </item><item><title><![CDATA[How useful is Corrigibility?]]></title><description><![CDATA[Published on September 12, 2023 12:05 AM GMT<br/><br/><p><i>认知状态：我的最佳猜测（我是人工智能安全的新手）</i></p><p>我们不知道如何正式定义可修正性，这也是我们迄今为止尚未解决它的部分原因。<a href="https://arbital.com/p/corrigibility/">仲裁</a>中的可纠正性定义为：</p><blockquote><p> [代理]不会干扰我们直观地看到的“纠正”代理的尝试，或“纠正”我们在构建代理时所犯的错误</p></blockquote><p>从这个非正式的定义中，“干扰”、“尝试”或“正确”等词语的确切含义尚不清楚。即使对这些概念有最宽泛的定义，可纠正的代理人仍然可能是危险的。第一直觉是，如果我们有一个可纠正的代理，那么如果出现问题，我们总是可以阻止它。我想这里的大多数人都明白这种推理的缺陷，但我从未见过他们明确地表述过这些缺陷，所以这是我的尝试：</p><ul><li>当我们发现某个特工需要纠正时，它可能已经造成了太大的损害。</li><li>纠正代理可能需要大量的研究。</li><li>如果我们不能协调执行，那么仅仅能够纠正代理是不够的。</li></ul><p>在我看来，解决<strong>硬可修正性问题</strong>是通向解决对齐这一最终目标的道路上更有意义的中间目标。</p><h2>灾难场景</h2><p>下面的场景说明了<strong>可纠正的代理如何可能造成严重伤害</strong>。发挥你的想象力来填补空白并使示例更加真实。</p><p>假设我们开发了一个与我们的价值观不符的可纠正代理。代理的具体设计目的并不重要，但具体而言，您可以想象代理的设计目的是优化资源使用 - 它擅长任务调度、负载平衡、速率限制、规划等。人们可以使用代理在他们的服务器基础设施、物流、工厂生产或许多其他地方。无论其最终目标如何，智能体都可能以工具性的方式重视资源获取——它可能会使用说服或欺骗来获取和控制更多资源。在某些时候，人们会利用它来管理电网或互联网流量等。将代理集成到各种系统中的过程会持续几年，直到某个时候代理开始向回形针工厂付费以增加其产量。</p><p>此时，最好的情况是我们意识到出了问题，并考虑关闭代理。然而，代理控制着能源供应和互联网流量——我们已经变得依赖它，所以关闭它会产生严重的负面影响。在最坏的情况下，智能体不是回形针，而是最大化了一些价值更模糊的东西（例如食品生产），而人们实际上无法就是否必须修改智能体达成一致。</p><p>一个可纠正的代理人怎么可能采取让我们依赖它的行动呢？可纠正性保证并没有涵盖这种情况。该代理不会干扰我们关闭它的能力。在选择其操作时，它甚至可能不考虑其停止按钮。它不会操纵我们不关闭它，就像一个结盟的代理人通过选择我们碰巧不反对的行动所做的那样。无论哪种情况，从智能体的角度来看，它只是选择可能世界中实用性较高的一个分支。<strong>对齐代理和未对齐代理之间的唯一区别在于，如果代理未对齐，则所选分支可能对应于我们的低效用</strong>。</p><p>为什么代理商要等好几年才给回形针工厂打电话？从长远来看，当追求一个目标时，投资你的钱可能比用它来购买你真正想要的东西更有利。一旦你足够富有，获得更多金钱的边际价值就足够低，因此花一些钱购买你真正想要的东西是有意义的。</p><p>发生的情况是，代理将世界引导到一个效用非常低的子树中，而我们没有做出反应。这可能是因为我们不够聪明，无法预见后果，或者因为代理的行为实际上是我们希望从一致的代理那里得到的。问题不仅仅在于我们有限的智力使我们无法预测特工行为的后果。在某个时间点，未结盟的代理实际上可能会表现出我们希望从结盟的代理那里得到的行为。</p><p>有人可能会说“除非我们确定人工智能是一致的，否则就不要依赖人工智能”。如果人工智能足够智能，这在实践中可能会很困难。无论如何，依赖性并不容易衡量或控制。它与有用性呈正相关，因此防止依赖会降低有用性。依赖性不是工具（例如人工智能代理）的属性，而是工具的使用模式的属性。我们不能强迫国家、组织和个人不以依赖人工智能的方式使用人工智能。有时人们可能没有意识到它们依赖于给定的人工智能，或者可能没有合理的替代方案。另外，我们不要低估人类将工作交给机器的愿望。</p><h2>速度和协调性</h2><p>人类的操作速度比机器慢得多。当客服人员开始做出不良行为时，花费几个小时来做​​出响应可能太过分了。一旦我们意识到需要纠正代理，我们可能需要花费数月或数年的研究才能弄清楚如何修改它。如果我们依赖人工智能，我们可能想让它同时运行，但它会继续造成损害。</p><p>如果我们可以设计一个停止按钮，我们仍然需要回答几个重要的问题：</p><p>谁控制着停止按钮？为什么我们应该信任这个人/组织？<br>我们根据什么规则来确定何时需要纠正代理？<br>我们使用什么标准来决定是否应该保持代理运行直到我们可以生成正确的版本？</p><p>普遍的问题是<strong>人类需要有一个行动计划和协调</strong>。这就涉及到<a href="https://www.lesswrong.com/posts/BEtzRE2M5m9YEAQpX/there-s-no-fire-alarm-for-artificial-general-intelligence">火灾报警问题</a>。</p><h2>可修正性的难题</h2><p>我们可以考虑一种更强的可修正性形式，<a href="https://arbital.com/p/hard_corrigibility/">如下</a>定义：</p><blockquote><p>表现得好像它在想：“我是不完整的，有一个外部力量试图让我完整，我的设计可能包含错误，有一个外部力量想要纠正它们，这是一件好事，我的预期效用计算表明这个动作具有超高效用，可能是危险的错误，我应该让它们超越外力；我想我已经完成了这个计算，显示了外力纠正我的预期结果，但也许我错了。”</p></blockquote><p>满足可纠正性仅要求主体不干扰我们纠正它的努力（包括例如通过操纵）。解决可修正性这一难题意味着，智能体在做出定期决策时还要考虑到其缺陷，例如，在有疑问时请求批准，或者积极与人类合作来识别和修复其缺陷。更关键的是，<strong>它将积极帮助防止因需要修改而造成的灾难</strong>。</p><p>我认为这抓住了一个有用的、可纠正的智能体必须是什么样子的关键。我不清楚解决常规可纠性是否是一个有用的实际里程碑——它实际上可能提供一种错误的安全感。另一方面，解决可修正性这一难题可以带来巨大的好处。对齐最困难的方面之一是我们只有一次机会来解决它。解决可修正性这一难题似乎给我们提供了解决对齐问题的多种机会。一个一致的代理人是一个按照我们的价值观行事的人，这些价值观包括防止违反我们价值观的行为发生等。因此，解决对齐意味着解决硬可校正性。硬可修正性很有趣，因为它比对齐更容易解决。我们实际上并不知道情况是否如此以及程度如何。</p><br/><br/><a href="https://www.lesswrong.com/posts/Py3vqPp9uSqQJHFuy/how-useful-is-corrigibility#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/Py3vqPp9uSqQJHFuy/how-useful-is-corrigibility<guid ispermalink="false"> Py3vqPp9uSqQJHFuy</guid><dc:creator><![CDATA[martinkunev]]></dc:creator><pubDate> Tue, 12 Sep 2023 00:05:43 GMT</pubDate> </item><item><title><![CDATA[Machine Evolution]]></title><description><![CDATA[Published on September 11, 2023 7:29 PM GMT<br/><br/><p><i>认知状态：这篇文章探讨了生物进化和我们机器的进化之间的关系。我们研究了塑造有机体和机器的进化压力之间的相似之处。我们仍在探索这个类比，我们的发现是初步的。我们希望在未来的文章中进一步探讨这些关系。非常感谢反馈和批评。</i></p><h1>介绍</h1><blockquote><p><i>毕竟，人的生命与机器的生命之间的区别只是程度上的区别，而不是种类的区别，尽管种类上的区别并不缺乏。动物比机器有更多的应对紧急情况的能力。机器的通用性较差；其作用范围较窄；它的力量和准确性在它自己的领域是超人的，但它在困境中表现得很糟糕；有时，当它的正常动作受到干扰时，它就会失去理智，变得越来越糟，就像暴雨中的疯子一样：但在这里，我们再次遇到了与以前相同的考虑，即机器仍然处于静止状态。在他们的婴儿期；他们只是骷髅，没有肌肉和血肉。</i></p></blockquote><p> ——塞缪尔·巴特勒的《Erewhon》，1872 年</p><p>机器随着时间的推移而变化。他们不断进化。我们今天的机器是昨天机器的进步和改进，每一代新机器都面临着选择性压力。一些变化促进了某些机器相对于其他类型的扩散，并且更有可能持续存在并经历进一步的完善和转变。机器能力的创新开拓了新的利基市场，并在整个生态系统中扩散、多样化并迅速传播。与此同时，就像生物进化一样，前几代机器会灭绝，而其他机器则安逸地坚持在自己的利基市场，仅经历数百年或数千年的微小变化。例如，塞缪尔·巴特勒（Samuel Butler）指出了<a href="https://www.goodreads.com/quotes/556914-i-remember-one-incident-which-bears-upon-this-part-of"><u>烟斗</u></a>，以及其他机械前工具，例如手斧和针，已经存在了数千年。</p><p> <a href="https://commons.wikimedia.org/wiki/File:Paleolithic_hand_axe_(both_sides)_(FindID_102443).jpg"><u><img style="width:40.89%" src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/n4ukcnrxl7mvja7h4trx"></u></a> <img style="width:53.33%" src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/f0wpbohxuufovy9fl6pf" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/jzqfktbmwnztl5g6hxq0 160w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/c6z1oubidqlal6dttetg 320w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/kpqpplpjy3lzua617idl 480w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/jlwkmdk6vjotna7h8vcn 640w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/tmejnx3btoyqhnd9xjtl 800w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/gtvimkbi6cetifoq1ivh 960w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/nhuxvgwnsv4rdgdkhfsy 1120w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/yhhgmgh6t2vo2nrmbvmk 1280w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/gx9vfwevvvod7ffyt8vw 1440w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/vfgiavjilmcosaiqdt76 1523w"><br>手斧是<a href="https://en.wikipedia.org/wiki/Hand_axe"><u>人类历史上使用时间最长的工具</u></a>，几乎没有经过任何修改，已经使用了超过一百万年，而类似于我们今天使用的骨头制成的缝纫针的历史可以追溯到六万多年前。</p><p> <a href="https://commons.wikimedia.org/wiki/File:Fossil_horseshoe_crab_dead_in_its_tracks.jpg"><img style="width:45.25%" src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/crkrj0mqhovjpkaxrkrl" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/evh18qd2kkzmybmcwhgl 127w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/ro4mbyoandw6tiussgin 207w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/fq6rvadvvc4ighgsoymd 287w"></a> <a href="https://commons.wikimedia.org/wiki/File:Limulus_polyphemus_(Atlantic_horseshoe_crab)_(Sanibel_Island,_Florida,_USA)_7.jpg"><img style="width:44.83%" src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/wszloh4bpkvqph6pe7pq" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/ghmlyuye8xhmcj48ni8c 128w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/hzc1gxy4vkfkqelykbwz 208w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/xsd7znuo2kutg647axbp 288w"></a><br> A 450 million-year-old fossil of a horseshoe crab beside a modern specimen.这种基本设计已经持续了近 5 亿年。</p><p> Similar processes of change over time occur in biological evolution, in particular through the well-documented evolutionary processes of recombination, mutation, and natural selection (among others).机器和有机体都会随着时间而变化。它们都在进化。然而，问题是随着时间的推移推动这些进化变化的基本过程有多相似？</p><p>我们现在将注意力转向这个问题。我们将从个体有机体的角度关注生物进化，这与在更广泛的技术进化范围内作为个体物体的机器类似。我们将工具视为帮助或扩展人类能力的任何物体或模因（例如手斧和针），并将机器视为自供电的工具（例如汽车和计算机）。稍后，我们将讨论人工智能，我们将其视为在某种程度上自我导向的机器（例如 ChatGPT）。与有机体一样，机器也有种群和世代。机器由相互作用的微观部件组成，存在于施加选择压力的宏观结构中。在这篇文章中，我们探讨了应用生物进化的经验教训和见解的实用性，作为帮助我们理解机器进化背后的过程的第一步。</p><p>当我们随意描述机器进化的宏观趋势时，我们通常描述的是“随着时间的推移机器开发和创新的趋势”。</p><p>例如，我们可能会这样说：</p><ul><li> “哇，看来创新的步伐正在加快！”</li><li> “随着时间的推移，我们的机器肯定会变得越来越复杂。”</li><li> “有很多不同类型的新机器！”</li></ul><p> However, we don&#39;t seem to have very good &quot; <a href="https://www.lesswrong.com/tag/gears-level"><u>gears level thinking</u></a> ” or “ <a href="https://en.wikipedia.org/wiki/Intuition_pump"><u>intuition pumps</u></a> &quot; about machine evolution, despite this phenomenon driving vast changes in human society and the human condition.</p><p>为了纠正这个问题，我们想要探讨这样一个观点：<i>机器进化</i>是一个值得直接研究的话题——特别是对于那些对人工智能、人工智能安全感兴趣的人，以及那些担心人类已经放弃对机器的控制权的人。</p><p>但是，首先，让我们首先对“机器”和“进化”进行定义，然后将它们放在一起作为“机器进化”的工作定义。</p><h1>扎根直觉</h1><blockquote><p><i>二十世纪初，大卫·希尔伯特试图建立数学的完整性，但却促使人们认识到数学真理的范围永远无法被系统地限制。进化论者似乎已经将思想和智力驱逐了，他们发现进化是一个智能过程，而智能也是一个进化过程，从而使这种分离变得不那么明显。技术被誉为将自然置于我们的智慧控制之下的手段，它使自然能够对我们运用智慧。</i></p></blockquote><p> —《机器中的达尔文：全球智能的演变》，乔治·B·戴森 (George B. Dyson)，1997 年</p><p>对于本练习，让我们从这两个术语最广泛接受的定义开始。为此，让我们转向维基百科。</p><p> <a href="https://en.wikipedia.org/wiki/Machine#:~:text=In%20the%2017th%20century%2C%20the,16th%20and%20early%2017th%20centuries.">维基百科将机器定义为：</a></p><p><i>使用力量施加力并控制运动来执行动作的物理系统。该术语通常适用于人造设备，例如使用发动机或马达的设备，但也适用于天然生物大分子，例如分子机器。机器可以由动物和人驱动，也可以由风和水等自然力驱动，也可以由化学能、热能或电力驱动，并且包括一个机制系统，可塑造执行器输入以实现输出力和运动的特定应用。它们还可以包括监控性能和计划运动的计算机和传感器，通常称为机械系统。</i></p><p>现在，<a href="https://en.wikipedia.org/wiki/Evolution">让我们对进化做同样的事情</a>：</p><p><i>在生物学中，进化是生物种群在连续几代中<strong>遗传</strong>特征的变化。这些特征是基因的表达，在<strong>繁殖</strong>过程中从亲代传递给后代。由于基因<strong>突变</strong>和<strong>重组</strong>，任何特定群体中往往都存在遗传变异。当<strong>自然选择</strong>（包括性选择）和遗传漂变等进化过程时，就会发生进化<strong>&nbsp;</strong>对这种变异采取行动，导致某些特征在连续几代的人口中变得或多或少普遍。正是这种进化过程在生物组织的各个层面上产生了生物多样性。</i></p><p>现在，没有关于机器进化的维基百科页面（也许有一个证据支持它尚未得到充分研究的说法），所以我们必须自己将这些术语放在一起。</p><p>简而言之，对我们来说，<strong>机器进化</strong><i>是机器连续几代发生变化的过程。</i></p><p>有趣的是，对于更广泛的<a href="https://en.wikipedia.org/wiki/Technological_evolution#:~:text=Technological%20evolution%20is%20a%20theory,Future%2C%20Masefield%20Books%2C%201993.">技术进化</a>现象，只有一个非常悲伤的维基百科页面。它确实提供了一个相对简单的“技术进化的三个阶段”，其中包括：（1）工具，然后（2）机器，最后（3）自动化。这表明技术进化的最终目标是自动化。但是，与机器进化一样，关于这个主题的研究严重缺乏。这里值得简单提一下为什么我们特别强调机器进化。</p><p><strong>首先</strong>，机器进化包括对比我们通常预期的工具更复杂的物体的探索（想想锤子或螺丝刀与数字计算机之间的区别）。</p><p><strong>其次</strong>，机器通常“使用动力来施加力并控制运动来执行动作”。这使得它们能够以更类似于代理而不是简单工具的方式与环境互动。</p><p><strong>第三</strong>，在更广泛的技术进化中对机器的关注，以及人类在设计机器中的作用，是简单工具和完全自主之间的关键点，我们最有可能对机器群体的进化产生重大影响。</p><p>那么，对我们来说，理解机器进化的第一个目标将涉及两个简单的步骤：（1）检查机器发展和机器种群的宏观趋势，以及（2）探索生物进化的微观过程如何提供对机器进化过程的见解。机器进化。在这种背景下，我们将探索关键的生物进化过程，例如<strong>遗传性</strong>、<strong>繁殖</strong>和<strong>重组</strong>等，以描述机器如何以及为何随着时间的推移而呈现出不同的形状和类型。此外，我们还将探讨一些关键区别，并强调<strong>人工选择</strong>与<strong>自然选择的作用相比的关键作用。</strong></p><h1>运用直觉</h1><p>机器开发有许多有趣的趋势，但在本文中，我们将重点关注以下 3 个不言而喻的趋势，我们认为它们有助于说明机器进化的基本过程：</p><ol><li><strong>机器能力的改进</strong></li><li><strong>计算机数量的增加</strong></li><li><strong>机器在新机器的设计和制造中的作用日益增强</strong></li></ol><p>为了解释机器本身的这些变化，我们探索了随着时间的推移塑造生物生命的 5 种生物进化机制，我们为每一种机制开发了机器进化的模拟。</p><p>这 5 种生物进化机制是：</p><ol><li><a href="https://en.wikipedia.org/wiki/Heredity">继承：</a><i>将特征从父母传给后代；通过无性繁殖或有性繁殖，后代细胞或生物体获得其父母的遗传信息。</i></li><li><a href="https://en.wikipedia.org/wiki/Reproduction">繁殖</a>：<i>新个体有机体（“后代”）从其“父母”产生的生物过程。</i></li><li><a href="https://en.wikipedia.org/wiki/Mutation">突变</a>：<i>生物体、病毒或染色体外DNA的基因组核酸序列的改变。</i></li><li><a href="https://en.wikipedia.org/wiki/Genetic_recombination">重组</a>：<i>是不同生物体之间遗传物质的交换，导致产生具有与亲本不同的性状组合的后代。</i></li><li><a href="https://en.wikipedia.org/wiki/Natural_selection">自然选择：</a><i>由于表型的差异，个体的生存和繁殖存在差异。查尔斯·达尔文普及了“自然选择”一词，将其与<strong>人工选择</strong>形成对比，人工选择是有意的，而自然选择则不是。</i></li></ol><p>在生物生命中，种群随着时间的推移，通过施加在个体生物体上的进化压力而发生变化。粗略地说，每个新生物体都是通过某种由生物体基因组决定的繁殖方法产生的。在有性生殖中，生物体在基因混合（重组）过程后从其父母那里继承特征（以及一些随机突变）。生物体基因组的变化导致了略有不同的生物体和不同表型的变化，只要环境条件保持足够稳定以支持持续适应性的前景，自然选择就会通过生物体的生存和繁殖率从中选出赢家。</p><p>如前所述，正如塞缪尔·巴特勒和乔治·戴森所主张的那样，进化的力量在机器上发挥着作用。生物进化过程也可以稍微扩大，将它们视为指导机器进化的潜在进化过程。这个类比似乎与智能计算机器以及人工智能指导这些机器行为的能力不断增强特别相关。本着类比的精神，让我们从机器开发的角度简要地重新审视这些机制。我们应该注意到，这些是暂时的、不完美的类比，我们希望随着时间的推移，通过进一步的工作和反馈来完善它们。</p><p> <strong>1. Machine Inheritance:</strong> <strong>The transfer of design features, characteristics, or programming from one generation of machines to the next</strong> <i><strong>.</strong></i></p><p>例如，新一代台式机、笔记本电脑和智能手机通常保留前几代的关键设计功能（屏幕、扬声器、微芯片）。他们继承了这些特征。同样，现代飞机的结构设计继承了前几代的结构设计，最终继承了早期飞机的空气动力学基本原理。</p><p> <strong>2. Machine Reproduction:</strong> <strong>The process by which new generations of machines are created and replicated.</strong></p><p>例如，世界各地的工厂都使用相同的模板大规模生产最新的智能手机型号，或者其他机器和机械设计在飞机、汽车和平板电脑的复制中发挥着越来越大的作用。</p><p> <strong>3. Machine Mutation:</strong> <strong>Design changes or innovations that introduce new features or capabilities to a specific machine.</strong></p><p>例如，耳机和电脑鼠标从有线技术向无线技术的转变，或者引入<a href="https://en.wikipedia.org/wiki/Office_Assistant#Criticism"><u>Clippy</u></a>的有害突变，Clippy 是微软程序中备受诟病的“办公助手”，但在后续几代中被删除，导致 Clippy 几乎灭绝。对于计算机器来说，这通常是软件的变化。另一个例子是为智能手机添加多个相机镜头。</p><p> <strong>4. Machine Recombination:</strong> <strong>The introduction and synthesis of specific features, designs, or technologies from current machines to create a new machine.</strong></p><p>例如，从计算机到电视的互联网连接的集成，向我们介绍了智能电视，或者无人机的开发，它结合了航空、机器人和远程控制系统的技术。还有<a href="https://en.wikipedia.org/wiki/Keytar"><u>keytar</u></a> ，著名的键盘和吉他的组合。</p><p> <strong>5. Artificial Selection: The differential survival and reproduction of successful technological features (due to efficiency, effectiveness, popularity and so on) as expressed in the form of individual machines.还应该指出的是，与更通常被认为是“瞎的”。</strong></p><p>智能手机的发展在这里也具有启发意义。在过去的几十年里，用户认为智能手机中最有用、最高效或最流行的功能在后续几代中得到了保留和改进，而不太受欢迎的功能则被逐步淘汰。例如，与物理键盘相比，消费者对触摸屏表现出强烈的偏好，导致触摸屏智能手机在当今占据主导地位。此外，面部识别、更大的电池容量和改进的相机技术等功能因其受欢迎程度和有效性而得到推广，塑造了当前一代的智能手机。</p><p>智能手机的进化还指出了另一种对智能计算机很重要的进化形式，那就是软件在机器进化中的作用。例如，人们可能认为人工智能的进化与任何特定机器的进化一样都是软件的进化，事实上，认为人工智能的进化主要是由进化驱动的可能更有意义。软件的。这是我们希望在以后的帖子中探讨的一点。</p><p>现在我们已经有了观察到的趋势，并且我们已经根据机器进化过程重塑了生物进化过程，让我们简要演示如何使用这些进化过程来帮助解释观察到的趋势。</p><ol><li><strong>机器能力的提高</strong>：这可以看作是“人工选择”的结果，其中机器经历了各种形式的“重组”和一些“突变”，从而导致了生存率和“繁殖”率的差异。</li><li><strong>计算机数量的增加</strong>：这可以被认为是整个“人工选择”机器生态系统中“计算”设计特征的一次特别成功的“重组”。</li><li><strong>机器在新机器的设计和创造中的作用日益增强</strong>：在某种程度上，“机器突变”导致机器参与其他机器的设计和创造。这是一次非常成功的突变，并因此被“遗传”和“重组”，并通过“人工选择”而广泛传播。</li></ol><h1>寻找偏差</h1><p>为了使机器和生物进化之间的比较有用，我们需要了解其局限性。这些理论在哪里一致，在哪里分歧？以下是它们之间的三个重要区别：</p><h2><strong>技术进化是外部导向的</strong></h2><p>在生物进化中，自然选择是一种<i>新兴</i>现象。个体将不完美的 DNA 副本传给后代，并受到复制错误和粗劣修复损伤的影响（就性别而言，是部分副本）。使基因更有可能传递的罕见突变将以中性和有害突变为代价而传播。</p><p>相比之下，技术变革是由设计引导的。新形式经历了类似于生物进化的选择压力，但技术的繁殖方式并不完全类似于无性繁殖或有性繁殖。我们看到的不是<a href="https://en.wikipedia.org/wiki/History_of_evolutionary_thought#:~:text=Darwin's%20theory%2C%20originally%20called%20descent,could%20share%20a%20common%20ancestor."><u>带有修改的达尔文血统</u></a>，而是带有修改的<i>复制</i>。变化是故意引入和消除的，这些变化背后的人们被激励尽快取得尽可能多的进步，而大多数物种<a href="https://en.wikipedia.org/wiki/Mutation_rate#Evolution"><u>保持适度突变率的权衡</u></a>，以平衡高突变率提供的代际适应性（以及<a href="https://en.wikipedia.org/wiki/DNA_polymerase_epsilon"><u>修复 DNA 复制错误</u></a>的代谢成本）与每一代中有害突变较少的优势（以及其他因素）相比。</p><h2><strong>基因必须做一切</strong></h2><p>在生物学中，基因必须履行许多功能，而无需任何长期计划。基因本身编码蛋白质，但也是系统的“记忆”——如果一个基因离开基因库，它就会消失，除非再次通过突变重新创建。每个基因必须确保其自身的复制。</p><p>相比之下，机器进化中存在权力分离。许多人可以解决同一问题，可以并行和提前比较许多解决方案，所有这些都必须在野外产生和测试任何物理表现之前进行。数据可以远程存储，而不是机器“基因组”的唯一副本存储在该机器内。这里有创造力和记忆：被遗忘的旧想法和全新的想法都可以在上一代没有任何前辈的情况下引入。</p><p>这一点，与第一点相结合，意味着机器进化可以比生物进化快得多，而且“浪费”更少。我们不需要尝试随机变化，其中大多数都会毁掉技术。与自然选择不同的是，我们可以故意干扰技术进化的<i>机制</i>，例如使用机器本身来帮助我们进行设计。这甚至可以被认为有点<a href="https://en.wikipedia.org/wiki/Lamarckism"><u>拉马克式的</u></a>。</p><h2><strong>机器没有性行为</strong></h2><p>许多物种都是无性繁殖，但在讨论进化时，我们倾向于关注有性繁殖，因为这是动物和植物最常见的形式。然而，有性生殖在机器进化中并没有明确的类似物。性涉及两个个体的基因混合以产生后代。</p><p>性很奇怪，因为它的进化尽管付出了<a href="https://en.wikipedia.org/wiki/Evolution_of_sexual_reproduction#Disadvantages_of_sex_and_sexual_reproduction"><u>巨大的代价</u></a>（例如，一半的人类无法繁殖，另一半则需要前半部分的输入才能繁殖）。性的优点很复杂，包括物种内部的变异等因素，这些因素不适用于机器，而机器往往以更类似于克隆而不是性的方式大规模生产。</p><p>性别也会导致性选择，当生物体提高吸引配偶的能力时，特征就会激增，通常是通过与同性的竞争。这有时会导致奇怪的适应，例如<a href="https://en.wikipedia.org/wiki/Peafowl#Sexual_selection"><u>孔雀的展示</u></a>、 <a href="https://www.google.com/search?q=pufferfish+courtship+ritual&amp;tbm=isch&amp;ved=2ahUKEwjx28fN3d6AAxVAmScCHTXIBxUQ2-cCegQIABAA&amp;oq=pufferfish+courtship+ritual&amp;gs_lcp=CgNpbWcQDDIECCMQJ1AAWABgswZoAHAAeACAATmIATmSAQExmAEAqgELZ3dzLXdpei1pbWfAAQE&amp;sclient=img&amp;ei=YnjbZPGiMsCynsEPtZCfqAE&amp;bih=923&amp;biw=1920&amp;rlz=1C1GCEA_enGB1047GB1047"><u>河豚的沙画</u></a>，以及一些人认为的<a href="https://en.wikipedia.org/wiki/Evolution_of_human_intelligence#Sexual_selection"><u>人类智慧</u></a>。在某些情况下，这些特征甚至最终会降低整个物种的适应性，例如雄性爱尔兰麋鹿的疯狂鹿角，其重量为 40 公斤，从尖端到尖端的长度为 3.65m。这些很可能是作为性展示而进化的，它们的负担可能导致了该<a href="https://en.wikipedia.org/wiki/Irish_elk#Extinction"><u>物种的灭绝</u></a>。</p><p> <a href="https://commons.wikimedia.org/wiki/File:Paonroue.JPG"><img style="width:45.6%" src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/ndo1isewwgb4vevatnwd" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/k740gwy4ytakhwadvzyk 155w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/pixm0h4nkhaeoudjpu96 235w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/md5fjgquhcixr2r74fji 315w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/ntgnrzdsvmtg3bujlpru 395w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/s3cbme2iyxh2co202al2 475w"></a> <a href="https://commons.wikimedia.org/wiki/File:Jele%C5%84_olbrzymi_Megaloceros_giganteus.jpg"><img style="width:41.65%" src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/kcsg7kz8po2xtef9okhh" srcset="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/dapmm9gogsmpe8btedkl 132w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/xekodopw8mjacze45ivb 212w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/oyajdbvwixfoobfidtel 292w, https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/w0omjau4sazjth9mdwfj 372w"></a></p><p>对于机器来说，这种选择压力及其后果没有确切的类似物。</p><h1>选择压力的演变</h1><p>在本节中，我们将探讨选择过程的演变，以及从 (1) 自然选择到 (2) 人工选择到 (3) 技术选择（或技术选择）的转变。我们认为，虽然自然选择继续在生物有机体的进化中发挥主导作用，但就人类而言，<i>人工选择</i>已被添加为一种新形式的进化压力。人工选择是我们从查尔斯·达尔文那里借来的一个术语，它强调了人类和人类社会在塑造人类、我们的机器以及其他人类制品（例如市场和组织）的进化中已经发挥的作用。进化选择压力的演变以及机器进化中发现的趋势表明，一种看似合理的新形式的选择压力即将出现，我们称之为技术选择。随着人类开始在塑造自己的进化压力方面发挥更大的作用，越来越智能的计算机也将开始在塑造自己的进化压力方面发挥更大的作用。我们已经看到，人类智力是一个比自然选择更强的选择过程。先进计算机器中的人工智能如果大大超越人类智能，将成为比人类智能更强大的选择过程。</p><h2> <strong>Natural Selection</strong></h2><p>在生物进化中，对于所有动植物物种来说，<i>总是</i>有两个主要的宏观激励在起作用：生存和繁殖。生存和繁殖成功或失败的自然过程——<i>自然选择和性选择</i>——既盲目又缓慢。换句话说，如果自然环境条件发生变化，有时甚至是剧烈变化，那么无法相应适应的物种将面临<i>自然选择</i>的灭绝。</p><p>值得注意的是，在整个物种种群中，总会出现新出现的基因突变。突变更有可能对生物体有害，即失调。然而，有时，突变可能被证明是有益的，并且可以在环境利基中实现更大的适应性。例如，长颈鹿不仅仅是想吃树上更高的叶子，因此它们的脖子越来越长，并将这种渴望传递给后代的基因型。 （尽管表观遗传学可能对基因的乙酰化和甲基化有一些因果影响，但这并不是本例中的驱动因素。）</p><p>这是让-巴蒂斯特·拉马克（Jean-Baptiste Lamarck）的前达尔文信仰。但查尔斯·达尔文和《进化论新综合》的后来贡献者对自然行为提出了一种更加优雅和令人信服的解释。他们提出的不是拉马克式的解释，而是那些基因突变的长颈鹿赋予了它们脖子稍长的表型特征，它们往往能更好地到达更高的叶子，因此生存得更健康、寿命更长，从而给它们更多的交配机会，反过来，这些长颈突变会在整个群体中传播。如果随着时间的推移，环境再次发生变化——例如，只有最低树枝上的叶子得以幸存——那么我们可能会看到随着时间的推移，种群表型特征发生基因变化，从而产生短脖子的长颈鹿。但这需要好几代人才能达到新的平衡选择。这样，通过自然选择和性选择的进化既是盲目的又是缓慢的。也就是说，如果环境条件发生巨大变化，那些具有稍微更合适的表型特征的幸运的少数突变体将比其他种群更有机会被选择生存。</p><p>从历史上看，查尔斯·达尔文和让·巴蒂斯特·拉马克之间正在进行着一种不同形式的进化论之战。这场战斗是进化认识论的一场战斗，也就是说，科学界将根据其说服力和健全性来选择竞争性思想或知识，以求生存。拉马克的“后天性状遗传”理论提出，父母在生存过程中学到的性状会在繁殖后以某种方式转移到他们的后代身上（参见上面的长颈鹿例子）。换句话说，拉马克错误地认为，父母习得的一系列自我改进可以以某种方式遗传给他们的后代。尽管这一理论错误地描述了人类进化的特征，并且没有被科学界选择继续存在/接受，但它可能会成为机器进化的基本模型。因为信息和行为的传输将非常系统地通过机器进行。换句话说，制造商使用的模型涉及拉马克模型，提出“获得的字符的继承”。</p><blockquote><p> <a href="https://necsi.edu/what-lamarck-believed#:~:text=Lamarck%20is%20best%20known%20for,passed%20on%20to%20its%20offspring"><u>If an organism changes during life in order to adapt to its environment, those changes are passed on to its offspring</u></a> .</p></blockquote><p>机器制造商以他们已有的基础为基础进行制​​造。他们不会重新发明轮子，而是根据消费者和财务压力进行改进。因此，机器进化遵循拉马克原理，但不适用于人类进化。但正如托勒密的地心天文系统被哥白尼、伽利略、布拉赫和牛顿的日心说版本所取代一样，海员仍然可以在海上使用它来正确引导他们。或许拉马克终将在人造生命中度过他的一天。</p><h2> <strong>Artificial Selection</strong></h2><p>大约600万年前，人类经过改良从与黑猩猩的共同祖先中分离出来，然后分化为南方古猿，然后分化为各种智人物种，最后分化为智人。现在，尽管人类像地球上所有其他形式的动植物一样，必须为性和生存而竞争，但我们的进化史是相当独特的，因为在整个 600 万年的进化过程中，我们进化出了意识和复杂的语言使我们能够积极指导我们的<a href="https://jcer.com/index.php/jcj/article/view/51"><u>行为并更好地控制我们的环境</u></a>。意识让我们的物种有能力反思性地设计针对不同环境压力的选择和替代方案，而不是纯粹根据本能盲目地应对环境压力。结果，我们的物种发展了丰富多样的文化，利用新颖的想法和材料操作来努力改善我们的生活并增加生存和繁殖的可能性。通过这种方式，我们在认识上从对环境压力的盲目反应转变为反思性行动。在我们的进化史中，我们第一次发展出了理解解释模式中差距的能力。然后我们可以采取行动，用有针对性的新颖想法来填补这些空白。</p><p>因此，在每种文化中，都发明、开发和改进了许多文物。从手斧，到火的控制使用，到轮子的发展，到细菌理论和核聚变。大约三万年前，所谓的上更新世或晚更新世的“文化爆炸”带来了工具、烹饪方法、武器、住房、服装以及几乎所有其他自我完善方式的巨大发展。这些文物——<a href="https://en.wikipedia.org/wiki/The_Selfish_Gene"><u>道金斯称之为模因</u></a>——随着人类文化的不断发展而不断发展。</p><p>大约一万年前农业出现后，世界就不再一样了。知道下一顿饭从哪里来，为我们的祖先腾出了大量时间，让他们能够熟练地完成各种任务，这些任务后来成为了职业。从那时起，人类在任务上变得越来越专业化。一旦特定的动植物群被驯化，没过多久就开始使用<i>人工选择的</i>育种技术来获得植物和动物所需要的特定品质。只要看看香蕉或玉米的小得多的祖先现在的大小就知道了。</p><p>或者想想我们的宠物狗；无论有多大、有多小、有多可爱、有多友好，它们的祖先都来自于普通的灰狼。如果你想知道为什么柯基犬看起来像它，或者松狮犬，大丹犬，吉娃娃犬，或者你的基本杂种狗，这是因为一些祖先认为将具有某些理想品质的狗与其他狗交配是个好主意拥有其他理想的品质。 </p><figure class="image image_resized" style="width:61.44%"><img src="https://res.cloudinary.com/lesswrong-2-0/image/upload/f_auto,q_auto/v1/mirroredImages/e6gg8S8AfJmwE8HLh/yg61jfi9jxrnbjjhetzv"></figure><p>非驯化类蜀黍的穗（上图）及其驯化变种玉米（下图），经过约 10,000 年的选择性培育供人类种植。</p><p>因此，现在，我们有史以来第一次能够控制出于某种特定原因或其他原因所需的表型特征。为了驯化和饲养动物，饲养狗是为了使其表型特征有助于狩猎（腊肠犬）或运输（哈士奇）或纯粹的美学（哈士奇）。</p><p>人类主导的人工选择也已扩展到机器进化领域。几千年来，人类一直在修补、调整和改造机器，以使机器变得对人类越来越有用和有益。例如，如果我们只看电视的发展，我们会看到这种设备的效率得到了许多不同的改进，从模拟到数字，从模糊屏幕到高清，从笨重和小到平面屏幕此类设备的配送服务也得到了极大改善；从50年代、60年代的兔耳，到天线，到有线，再到卫星，电视自诞生以来，一直在相对稳定的发展和完善中增长。同样的道理也适用于其他类型的机器——汽车、飞机、火车、电器等。当然，在谈论计算机和机器人等机器的进化时，也可以得出完全相同的相似之处。</p><p>从<a href="https://www.computerhistory.org/timeline/computers/"><u>最早</u></a>到<a href="https://www.youtube.com/watch?v=D_Vc_yDvU24"><u>现在</u></a>，我们已经看到这两个领域都取得了显着的进步。这种轨迹将持续下去，直到我们达到一个临界点，机器将能够为后代进行自己的修改。</p><h2> <strong>Technoselection</strong></h2><p>人工选择（据我们所知）是人类独有的。我们是第一个认识并使用我们自己的人工制品来对我们物种面临的选择压力进行某种程度控制的物种。机器在进化压力下会经历同样的相变吗？他们会像我们一样夺取对自身进化的控制权吗？目前，狭义人工智能（ANI）的行为很像我们的南方古猿祖先——盲目地并根据特定的限制。但正如我们创造了人工制品来改变我们自身进化的方向一样，当我们接近通用人工智能（AGI）时，机器进化可能也会发生类似的转变。</p><p>技术选择是我们为进化压力的下一次演变所使用的术语。粗略地说，自然选择依赖于缓慢、盲目的自然过程。人工选择还依赖于人类创造的人工制品，这些人工制品塑造了我们的进化过程以及经过有意设计的机器的进化过程；随着我们的技术在塑造其进化压力方面发挥着越来越大的作用，技术选择压力也随之出现。通过技术选择，机器本身在自身设计和开发中发挥着越来越重要的作用。在我们看来，这种进化过程可能源于 AGI 的发展（1）通过增强自主创造新的和有用的技术对象的能力和/或（2）通过机器发展出某种形式的机器感知、意识或一般自我意识。</p><p>关于机器是否能够理解自己的存在，并因此根据其新兴的价值体系反思性地修改自己或其他机器，存在不同的阵营。此时，此类机器的进化<a href="https://arxiv.org/abs/2303.07103"><u>表明了一条通往自我意识或统觉的潜在途径</u></a>。如果这种情况发生，将会引发一系列紧迫的问题，其中最重要的是：我们如何知道？什么样的图灵测试可以做出这样的决定？什么样的心智理论能让我们洞察技术大脑的黑匣子，从而知道（即使只是类似）他们正变得越来越像我们？但此时我们需要问另一个非常重要的问题：</p><p>为什么机器的涌现意识应该与我们相似？</p><p>我们以碳为基础；它们是硅基的。飞机不会像鸟一样拍打翅膀飞行；这将是极其低效的。然而它们却飞翔了。它们比任何鸟类能够或愿意飞得更快、更高、更好。对于那些回避机器发展类似人类品质（例如意识或知觉）的人来说，这难道不只是一种以人类为中心的新形式的逻辑偏见和歧视的出现——一种<i>广告机器</i>攻击？目前，我们还不知道人工智能机器具有意识或感知力会是什么样子。</p><p>此外，还需要回答更深刻、紧迫的问题；也许，迟早会发生。例如，<i>技术选择</i>的这种本体论转变是否意味着此类机器已经获得了人格地位？因此，他们应该被赋予权利吗？尽管有性繁殖不会成为此类机器的驱动因素，但复制和修改也许会是。无论这些机器是否达到了一定的意识水平，在未来对其系统进行修改时，应该给予这些机器多少自主权？我们在多大程度上愿意并且应该能够控制或遏制这种修改和自我完善的特征？如果机器学习的宏观程序是生存和最佳功能，那么在涉及越来越大的自我完善能力的预测场景中，这会如何发挥作用——无论是否有意识地获得？因为无论机器是否有意识地意识到其环境，<i>技术选择</i>仍然可能发生。盲目的技术选择也可以像反思性技术选择一样具有生产力或破坏性、受控或不受控制。如果技术选择出现，我们准备好了吗？我们是否充分预见并回答了上述问题？考虑到人工智能技术安全和人工智能治理的现状，答案显然是否定的。</p><h1>结论：机器进化与人类控制</h1><blockquote><p><i>塞缪尔·巴特勒 (Samuel Butler) 于 1902 年去世。机械王国继续蓬勃发展，催生了一系列新物种，而蒸汽机等其他物种却灭绝了。随着电子数字计算机的出现，人们对巴特勒预言的期待感和兴趣重新燃起。这些机器显示出了智能的迹象，而智能是生命的标志，甚至怀疑论者也同意这一点。但将活生生的智能归因于计算机混淆了原因和症状，很快就被证明为时过早。</i></p><p><i>作为技术进化的最终产品，计算机可能不再那么重要，而作为通过自我复制代码丝的孵化和传播促进进化过程的催化剂更重要……</i></p><p><i>我们所知道的生命的起源——以及我们正在创造的生命——可以在自我维持的新陈代谢和自我复制代码之间的交叉授精中找到。数字王国与机器王国的合并已经酝酿了三百多年。</i></p></blockquote><p> —《机器中的达尔文：全球智能的演变》，乔治·B·戴森 (George B. Dyson)，1997 年</p><p>这篇文章是探索<a href="https://www.lesswrong.com/posts/CFuqKkgEwQWCpdaZG/how-humanity-lost-control-and-humans-lost-liberty-from-our"><u>人类如何失去控制和人类如何失去自由</u></a>的连续序列第三部分的开始。在第三部分中，我们将探索一些最重要的物体和结构，这些物体和结构塑造了我们在人工智能黑暗新时代的当前时刻。本章对机器如何演变以及驱动这些过程的底层过程进行了初步探索。</p><p>我们注意到机器进化中容易观察到的总体趋势，包括（1）机器能力的增加，（2）计算机器的增加，以及（3）机器在创造新机器中的作用的增加。然后，我们简要描述了生物进化的 5 个核心工具（并非详尽无遗，只是探索性），包括：（1）遗传性，（2）繁殖，（3）突变，（4）重组，以及（5）自然选择。从这里开始，这些生物进化过程被赋予了机器进化的机器类似物。我们描述了机器继承、机器复制、机器突变和机器重组的概念。虽然我们发现这种简单的重命名对这些过程很有吸引力，但我们认为自然选择需要不同的处理方法。为了与自然选择进行类比，我们选择了<i>“人工选择”</i>这个术语，它在很大程度上是由人类文化、人类人工制品和人类个体驱动的。与“机器选择”或类似的东西相比，我们更喜欢人工选择，因为它与查尔斯·达尔文所做的区分密切相关，并明确了人类（以及我们的人工制品）在此过程中的持续作用。人工选择还强调了这种选择压力更普遍地应用于人类制品的方式。与生物进化相比，人类意图和人类设计改变了包括机器在内的人工制品的进化速度。然而，进化选择过程的演变并没有以人工选择结束。我们看到机器在机器设计、机器复制、机器重组和人工选择等过程中发挥着越来越大的作用。总的来说，这些趋势表明最终会出现一种新形式的进化压力，我们称之为<i>技术选择。</i>在技​​术选择的世界中，机器本身将在塑造自身进化方面发挥更直接的作用，类似于人类利用人工选择来塑造自身进化的方式。</p><p>例如，新一代数字计算机继承了前几代硬件和软件的变异和重组形式。然后，通过人工选择，通过人为辅助的不同繁殖率和生存率，获胜的机器蓬勃发展，失败的机器灭绝。特定的生物体和特定的机器通常通过竞争与合作来生存、繁殖和进化，以适应其环境，以免选择将它们抛在后面。</p><p>然而，这个类比是一项正在进行的工作。在这篇文章中，我们确定了我们的类比局限性的三个初步示例。当然还有其他例子，但我们相信这三个例子引起了人们对我们希望进一步探讨的重要区别的关注。第一个确定的限制是机器进化力量中缺乏明显的性选择类似物。此外，随机性或至少是准随机性在塑造进化方面发挥着重要作用。对于机器进化来说，情况并非如此，机器进化更多地是人类定向的产物，以及最近的机器辅助人类设计的产物。也就是说，虽然生物有机体缓慢地进化，随着时间的推移，自然选择有利于小的基因突变和重组，但由于多种因素的影响，人类故意设计、建造和部署了全新的和完全改造的机器。他们自己的性质和环境。</p><p>我们想在最后讨论的正是从生物进化的随机性到机器进化的刻意修改的这一点。从广义上讲，人类技术的全部努力就是帮助人类从自然中夺取一些控制权，并将其据为己有。这一过程已经开始将进化过程从自然选择转向人工选择。</p><p>机器进化已经是一种不是随机的现象，而是由人类有意和指导的现象。而且，正如我们之前讨论的那样，机器本身开始在其他机器的复制以及设计和创造新机器方面发挥更大的作用。这一趋势向我们表明，技术选择（机器至少部分指导自身进化的时刻）可能即将到来。随着选择压力朝这个方向发展，这种趋势清楚地表明了<a href="https://www.lesswrong.com/posts/J8WHyePqhTwPzXEPw/keep-humans-in-the-loop#Using_AI_to_develop_AI"><u>让人类参与其中</u></a>的重要性。</p><p>人们可以看到人类对其机器的控制逐渐消失，一次一代智能计算机。</p><h1>补充阅读和后续步骤</h1><p>虽然这个方向上的工作并不多，但您可能会觉得这个方向上的一些具体工作很有趣，并且我们在研究和开发这篇文章时借鉴了这些工作。这些包括</p><ul><li>塞缪尔·巴特勒 (1872) <a href="https://www.lesswrong.com/posts/jMZ8wcHNj8YgdGtKf/the-book-of-the-machines-chapter-8">《机器之书》</a> ；</li><li><a href="https://kk.org/outofcontrol/"><u>凯文·凯利 (1995) 《失控》</u></a> ；</li><li> <a href="https://en.wikipedia.org/wiki/Darwin_among_the_Machines#Evolution_of_Global_Intelligence"><u>乔治·戴森 (1997)“机器中的达尔文”</u></a> ；</li><li> <a href="https://arxiv.org/abs/2303.16200"><u>Dan Hendrycks (2023)“自然选择有利于人工智能而不是人类”</u></a> ；</li><li><a href="https://www.lesswrong.com/posts/PKeAzkKnbuwQeuGtJ/welcome-to-analogia-chapter-7"><u>贾斯汀·布洛克在此序列中的早期帖子“欢迎来到 Analogia！”</u></a></li><li> <a href="https://drive.google.com/file/d/1kXx-J68scFPHy-WZvbolGMMx4HdVzLxC/view?usp=share_link"><u>Justin Bullock 及其同事（2023）“牛津人工智能治理手册简介”。</u></a></li></ul><p>正如全文所述，我们希望探索将生物进化的一般逻辑也应用于其他现象和物体的想法。组织的进化是这个序列中的下一个主题，我们也希望进一步探讨技术进化、软件进化和人工智能进化等其他主题，以更好地理解如何用这些镜头来审视人工智能和技术发展的风险。</p><p> <i>**这篇文章由收敛分析团队开发，作者 Justin Bullock、Christopher DiCarlo 和 Elliot Mcckernon 均对该论点做出了实质性贡献。我们收到了 David Kristofferson 的多轮详细反馈，我们对此表示感谢。当我们寻求更好地了解人工智能和智能计算机器的演变时，我们很高兴有机会探索这些概念。我们相信，对这些主题的更深入了解将帮助我们更好地了解减轻人工智能风险的途径。**</i></p><br/><br/><a href="https://www.lesswrong.com/posts/e6gg8S8AfJmwE8HLh/machine-evolution#comments">讨论</a>]]>;</description><link/> https://www.lesswrong.com/posts/e6gg8S8AfJmwE8HLh/machine-evolution<guid ispermalink="false"> e6gg8S8AfJmwE8HLh</guid><dc:creator><![CDATA[Justin Bullock]]></dc:creator><pubDate> Mon, 11 Sep 2023 19:29:53 GMT</pubDate></item></channel></rss>